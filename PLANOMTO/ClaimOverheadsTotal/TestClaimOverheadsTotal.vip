#include ClaimOverheadsTotal.vih
#include Query.vih

#component "AGAT"

interface TestClaimOverheadsTotal;

table struct t (Nrec: longint, ParentNrec: longint, ItemNrec: comp, Level: byte);

create view
as select *
from t;

browse br1;
table t;
fields
  t.nrec;
  t.ParentNrec;
  t.ItemNrec;
  t.Level;
end;

var
  _dataReader: ClaimOverheadsTotalDataReader;
  _filters: ClaimOverheadsTotalFilters new;
  _queryText: ISqlString;

handleevent
cminit:
{
  _queryText := ISqlString(new(ClaimOverheadsTotalQueryText, ClaimOverheadsTotalQueryText(_filters)));
  var rs: IResultSet;
  rs := _dataReader.Load(_queryText);
  delete all t;
  sqlCopyInto(rs, #t, true);
  rereadrecord(#t);
}
end;
end.
