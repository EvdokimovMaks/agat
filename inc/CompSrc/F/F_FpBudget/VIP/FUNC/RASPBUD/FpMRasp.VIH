//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 8.10 - модуль "Управление бюджетом"
// Визуальный интерфейс : "Распределение по ЦО"
//------------------------------------------------------------------------------

#ifndef __FpMRasp_Vih__
#define __FpMRasp_Vih__

//==============================================================================
#component "F_FpBudget"

//------------------------------------------------------------------------------
#include FpObjDefModel.Vih
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
#doc
Распределение по ЦО<br>
<b>Внимание!</b> Интерфейс предназначен только для внутреннего использования<br>
#end
Private ObjInterface tFpMRaspObjInterface;

//------------------------------------------------------------------------------
#doc
   Инициализация
#end
Function InitObj : boolean;

//------------------------------------------------------------------------------
#doc
   Инициализация
#end
Function InitParam(
                       _wIntMode : word;
                       _cTopRec  : comp;
                       _cNodeTop : comp;
                       _cGetRec  : comp
                      ) : boolean;

//------------------------------------------------------------------------------
#doc
   Можно ли редактировать каталог
#end
Function CanEdit : boolean;

//------------------------------------------------------------------------------
#doc
   Спозиционироваться на заданную запись
#end
Function SetPosKatH(cRec : comp) : boolean;

//------------------------------------------------------------------------------
#doc
   Работа с ListBadRec
#end
Function InsertBadNRec(cBadNRec : comp; sBadName : string) : boolean;

//------------------------------------------------------------------------------
#doc
   Работа с ListBadRec
#end
Function FindBadNRec(cBadNRec : comp) : boolean;

//------------------------------------------------------------------------------
#doc
   Удаление
#end
Function DeleteKatH(cRec : comp) : boolean;

//------------------------------------------------------------------------------
#doc
   Копирование
#end
Function CopyKatH(cRec : comp) : comp;

//------------------------------------------------------------------------------
#doc
<brief>Проверка отвязанных значений</brief>
   Некорректные значения:<br>
    - удалять      ((wMode and cgFpKatH_Check_IsDel) = cgFpKatH_Check_IsDel);<br>
    - исправлять   ((wMode and cgFpKatH_Check_IsCorrect) = cgFpKatH_Check_IsCorrect);<br>
#end
Function CheckNodeKatH(wMode : word) : boolean;

//------------------------------------------------------------------------------
#doc
<brief>Проверка корректности текущей записи</brief>
   Некорректные значения:<br>
    - удалять      ((wMode and cgFpKatH_Check_IsDel) = cgFpKatH_Check_IsDel);<br>
    - исправлять   ((wMode and cgFpKatH_Check_IsCorrect) = cgFpKatH_Check_IsCorrect);<br>
#end
Function CheckCorrectCurKatH(wMode : word) : boolean;

//------------------------------------------------------------------------------
#doc
   Проверка корректности всего каталога
#end
Function CheckCorrectAllKatH(wMode : word) : boolean;

//------------------------------------------------------------------------------
#doc
   Проверка корректности задания
#end
Function CheckAllSet : boolean;

//------------------------------------------------------------------------------
#doc
   Выполнить операцию
#end
Function RunOperation : boolean;

//------------------------------------------------------------------------------
#doc
   Установить имя лог файла
#end
Function SetLogFile(_sLogFileName : string) : boolean;

//==============================================================================
// Установка данных из параметров запуска для БП
//==============================================================================
//------------------------------------------------------------------------------
#doc
   Установка варианта из параметров запуска БП
#end
function SetDefVariant(_Value : comp) : boolean;
//------------------------------------------------------------------------------
#doc
   Установка стадии из параметров запуска БП
#end
function SetDefStage(_Value : string) : boolean;


//==============================================================================
//                                 FPITUNE
//******************************************************************************
//------------------------------------------------------------------------------
#doc
   Загрузить настройки интерфейса
#end
Function Read_ITune(_cTune : comp) : boolean;

//------------------------------------------------------------------------------
#doc
   Сохранить настройки интерфейса
#end
Function Save_ITune(_cTune : comp) : boolean;

//------------------------------------------------------------------------------
#doc
   Удалить настройки интерфейса
#end
Function Del_ITune(_cTune : comp) : boolean;

//------------------------------------------------------------------------------
#doc
   Загрузка из менеджера реквизитов копии
#end
Function Read_ITune1Stage(_cTune : comp; _wEntity : word) : boolean;

//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
End; // ObjInterface

VipInterface GetMRaspCO implements tFpMRaspObjInterface, iObjFpDefModel
#Licensed_Free
Parameters (
  wIntMode  : word;
  cNodeTop  : comp;
  cGetRec   : comp
);

#endif//__FpMRasp_Vih__
