//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 8.10 - модуль "Управление бюджетом"
// Визуальный интерфейс : "Каталог соответствий"
//------------------------------------------------------------------------------

#ifndef __FpKatImp_Vih__
#define __FpKatImp_Vih__

#ifdef  ComponentVersion
#component "F_FpBudget"
#endif//ComponentVersion

//==============================================================================
#doc
Визуальный интерфейс : "Каталог соответствий"<br>
<b>Внимание!</b> Интерфейс предназначен только для внутреннего использования<br>
#end
Private ObjInterface IGetKatImpRel;  //#region ObjInterface

  //============================================================================
  //#region ERROR
  //----------------------------------------------------------------------------
  #doc
     Функция возвращает описание последней ошибки
  #end
  Function GetStLastError : string;
  //----------------------------------------------------------------------------
  #doc
     Вывод сообщения последней ошибки
  #end
  Function RunShowError : boolean;
  //#endregion ERROR
  //****************************************************************************


  //============================================================================
  //#region INIT
  //----------------------------------------------------------------------------
  #doc
     Инициализация параметров интерфейса
  #end
  Function InitParam(
      _wIntMode : word;    // режим запуска (cgiNo, cgiPick, ...) см.GLOCONST.INC
      _cNodeTop : comp;    // вывод только ветки с вершиной cNodeTop, чтобы все дерево cNodeTop=comp(0)
      _cGetRec  : comp     // выбранная запись                                                         
  ) : boolean;
  //#endregion INIT
  //****************************************************************************


End; //#endregion ObjInterface
//******************************************************************************


//==============================================================================
VipInterface GetKatImpRel implements IGetKatImpRel sourceFile="FpKatImp.Vip"
#Licensed_Free
Parameters (
  wIntMode : word;  // режим запуска (cgiNo, cgiPick, ...) см.GLOCONST.INC
  cNodeTop : comp;  // вывод только ветки с вершиной cNodeTop, чтобы все дерево cNodeTop=comp(0)
  cGetRec  : comp   // выбранная запись
);
Public:
  Function NyGetDefaultAttr : word;
  Function MyLoadMtTable : boolean;

  Procedure ShowMyHeader;
  Procedure CheckFieldsState;
  Function CheckRecFPKatH : boolean;
  Function CopyKatH(cRec : comp) : comp;

  Function GetIHotKey : string;
  Function GetIHelp : #__TypeHelpContextID__;
  Function GetIHead : string;
  Function GetKatH(w1: word; c1:comp; var c2:comp) : word;
  Function DeleteKatH(cRec : comp) : boolean;

  Function InitObj : boolean;
  Function InitGlobal : boolean;
  Procedure DefaultGlobal;
End;
//******************************************************************************


#endif//__FpKatImp_Vih__
