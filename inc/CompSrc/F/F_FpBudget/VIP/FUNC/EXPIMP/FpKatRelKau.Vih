//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 8.10 - модуль "Управление бюджетом"
// Визуальный интерфейс : "Каталог соответствий аналитик"
//------------------------------------------------------------------------------

#ifndef __FpKatRelKau_Vih__
#define __FpKatRelKau_Vih__

#ifdef  ComponentVersion
#component "F_FpBudget"
#endif//ComponentVersion

//------------------------------------------------------------------------------
#include FpKatImp.Vih  // Визуальный интерфейс : "Каталог соответствий"
//------------------------------------------------------------------------------

//==============================================================================
#doc
Визуальный интерфейс : "Каталог соответствий аналитик"<br>
<b>Внимание!</b> Интерфейс предназначен только для внутреннего использования<br>
#end
Private ObjInterface IFpKatRelKau(IGetKatImpRel);  //#region ObjInterface

  //============================================================================
  //#region FIELDS
  //----------------------------------------------------------------------------
  #doc
     Получить КАУ "источника", для которого запущен интерфейс
  #end
  Function GetIntKauSRC : word;
  //----------------------------------------------------------------------------
  #doc
     Задать КАУ "источника", для которого запущен интерфейс
  #end
  Procedure SetIntKauSRC(_Value : word);

  //----------------------------------------------------------------------------
  #doc
     Получить КАУ "приемника", для которого запущен интерфейс
  #end
  Function GetIntKauDST : word;
  //----------------------------------------------------------------------------
  #doc
     Задать КАУ "приемника", для которого запущен интерфейс
  #end
  Procedure SetIntKauDST(_Value : word);
  //#endregion FIELDS
  //****************************************************************************


  //============================================================================
  //#region EVENTS
  //----------------------------------------------------------------------------
  #doc
     Событие при изменении заголовка интерфейса
  #end
  Event Procedure Event_ShowMyHeader(
      _sHeader  : string   // заголовок интерфейса
  );
  
  //----------------------------------------------------------------------------
  #doc
     Событие при закрытии интерфейса по cmDefault
  #end
  Event Procedure Event_DefaultGlobal(
      _cGetRec  : comp     // выбранная запись                                                         
  );
  //#endregion EVENTS
  //****************************************************************************


End; //#endregion ObjInterface
//******************************************************************************


//==============================================================================
VipInterface FpKatRelKau(GetKatImpRel) implements IFpKatRelKau
Parameters (
//wIntMode    : word;  // режим запуска (cgiNo, cgiPick, ...) см.GLOCONST.INC
//cNodeTop    : comp;  // вывод только ветки с вершиной cNodeTop, чтобы все дерево cNodeTop=comp(0)
//cGetRec     : comp;  // выбранная запись
  wKauSRC     : word;  // код аналитики "источник"                            
  wKauDST     : word   // код аналитики "приемник"                           
);
Public:
  Function NyGetDefaultAttr : word;
  Function MyLoadMtTable : boolean;

  Procedure ShowMyHeader;
  Procedure CheckFieldsState;
  Function CheckRecFPKatH : boolean;
  Function CopyKatH(cRec : comp) : comp;

  Function GetIHotKey : string;
  Function GetIHelp : #__TypeHelpContextID__;
  Function GetIHead : string;
  Function GetKatH(w1: word; c1:comp; var c2:comp) : word;
  Function DeleteKatH(cRec : comp) : boolean;

  Function InitObj : boolean;
  Function InitGlobal : boolean;
  Procedure DefaultGlobal;
End;
//******************************************************************************


#endif//__FpKatRelKau_Vih__
