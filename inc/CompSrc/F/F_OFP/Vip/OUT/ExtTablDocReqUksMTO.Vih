//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 8.10 - модуль "Платежный календарь"
// Табличный объект взаимодействия: "Заявки модуля L_UksMTO"
//------------------------------------------------------------------------------

#ifndef __ExtTablDocReqUksMTO_Vih__
#define __ExtTablDocReqUksMTO_Vih__

#ifdef  ComponentVersion
#component "F_OFP"
#endif//ComponentVersion

//------------------------------------------------------------------------------
#include IModify.Vih            // Абстрактный табличный интерфейс
//------------------------------------------------------------------------------


//------------------------------------------------------------------------------
#doc
Табличный объект взаимодействия: "Заявки модуля L_UksMTO"
#end
ObjInterface oExtTablDocReqUksMTO;
  Property NRec          : comp    read write;  // Номер записи
  Property NoDoc         : s20     read write;  // Номер документа
  Property DocType       : word    read write;  // Тип документа
  Property Prior         : word    read write;  // Приоритет
  Property dDoc          : Date    read write;  // Дата создания документа
  Property dInput        : Date    read write;  // Дата создания документа
  Property dFin          : Date    read write;  // Планируемая дата оплаты

  Property cDogovor      : comp    read write;  // Ссылка на договор
  Property cAppDogovor   : comp    read write;  // Ссылка на доп.соглашение
  Property cCalPlan      : comp    read write;  // Ссылка на ПКП
  Property cBaseDoc      : comp    read write;  // Ссылка на ДО

  Property cOrg          : comp    read write;  // Ссылка на контрагента
  Property cBank         : comp    read write;  // Ссылка на банк контрагента
  Property Summa         : tSumma  read write;  // Сумма оплаты
  Property NDS           : tSumma  read write;  // Сумма НДС
  Property cVal          : comp    read write;  // Ссылка на валюту
  Property KBK           : s20     read write;  // КБК
  Property OKATO         : s80     read write;  // ОКАТО
  Property NaznPlat1     : string  read write;  // Назначение платежа1
  Property NaznPlat2     : string  read write;  // Назначение платежа2
  Property NaznPlat3     : string  read write;  // Назначение платежа3
  Property NaznPlat4     : string  read write;  // Назначение платежа4
  Property NaznPlat5     : string  read write;  // Назначение платежа5
  Property NaznPlat6     : string  read write;  // Назначение платежа6
  Property Comment       : string  read      ;  // Примечание
  Property cKatStroy     : comp    read write;  // Ссылка на объект строительства
  Property cInvestor     : comp    read write;  // Ссылка на инвестора
  Property cCurator      : comp    read write;  // Ссылка на исполнителя
  Property cPlatDog      : comp    read      ;  // "Платеж за" из договора
  Property cOrg2         : comp    read      ;  // контрагент, с учетом "Платеж за"
  Property cNote         : comp    read write;  // ссылка на статус
  Property wNote         : word    read write;  // статус

  Property DogNoDoc      : TNoDoc  read      ;  // Номер договора
  Property DogDate       : date    read      ;  // Дата договора
  Property sDogovor      : string  read      ;  // Наименование договора
  Property sAppDogovor   : string  read      ;  // Наименование доп.соглашения
  Property sCalPlan      : string  read      ;  // Наименование ПКП
  Property sBaseDoc      : string  read      ;  // Наименование ДО

  Property sOrg          : string  read      ;  // Наименование контрагента
  Property sBank         : string  read      ;  // Наименование банка контрагента
  Property sKatStroy     : string  read      ;  // Наименование объекта строительства
  Property sInvestor     : string  read      ;  // Наименование инвестора
  Property sCurator      : string  read      ;  // Наименование исполнителя
  Property sVal          : s5      read      ;  // Наименование валюты
  Property sNote         : string  read      ;  // Наименование статуса

  Property StZatratKau   : word    read      ;  // Код  аналитики "статьи затрат"
  Property StZatratRec   : comp    read      ;  // NRec аналитики "статьи затрат"
  Property StZatratName  : string  read      ;  // Наименование "статьи затрат"

  Index DocReq01 = NRec(Unique, Primary)      ;
  Index DocReq02 = DocType, dDoc, Prior, NoDoc;

  //----------------------------------------------------------------------------
  #doc
     Описание последней ошибки
  #end
  Function GetStLastError : string;
  //----------------------------------------------------------------------------
  #doc
     Сообщение последней ошибки
  #end
  Function RunShowError : boolean;

  //----------------------------------------------------------------------------
  #doc
     Проверка корректности заполнения полей
  #end
  Function CheckFld : boolean;

  //----------------------------------------------------------------------------
  #doc
     Автоматическое формирование назначения платежа.<br>
  #end
  Function SetDefNaznPlat : boolean;
  //----------------------------------------------------------------------------
  #doc
     Автоматическое заполнение объекта строительства на основании договора
  #end
  Function SetDefKatStroy : boolean;
  //----------------------------------------------------------------------------
  #doc
     Автоматическое заполнение инвестора
  #end
  Function SetDefInvestor : boolean;
  //----------------------------------------------------------------------------
  #doc
     Автоматическое заполнение статьи затрат
  #end
  Function SetDefStZatrat : boolean;

End; // ObjInterface

//------------------------------------------------------------------------------
VipInterface ExtTablDocReqUksMTO implements oExtTablDocReqUksMTO, IModify
  Licensed(Free);
Public:
  Constructor Init;
  Destructor  Done;
End;

#endif//__ExtTablDocReqUksMTO_Vih__
