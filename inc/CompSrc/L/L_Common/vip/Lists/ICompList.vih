//------------------------------------------------------------------------------
//                                            (c) 1994,2011 корпорация Галактика
// Галактика 8.10
// Общий интерфейс для списков значений типа comp
//------------------------------------------------------------------------------

#ifndef _ICompList_vih_
#define _ICompList_vih_

#ifdef ComponentVersion
 #component "L_Common"
#end

exception ExReadOnly;

#doc
Объектный интерфейс для списков значений типа comp
#end
objinterface ICompList;
  property listSize: longint read; //#docl вычисляет и возвращает размер списка
  #doc
  Значение текущего элемента списка.
  Можно использовать при навигации по списку, например _loop List { someLink := List.val; ... }.
  #end
  property val: comp read write;
  //function getValue(_index: longint): comp; //#docl получить значение элемента списка по индексу (от 0 до getLength-1);
  function IsEmpty: boolean; //#docl Возвращает true, если список пустой
  function Contains(_val: comp): boolean; //#docl Возвращает true, если список содержит указанный элемент.
  procedure Clear; //#docl очистить список
  procedure LoadFromMarker(_markerName: string); //#docl очищает список и загружает новый из указанного маркера
  procedure SaveToMarker(_markerName: string); //#docl сохраняет список в указанный маркер

  event procedure DataChanged; //#docl событие возникает при изменении данных объекта

  index iVal = val; // индекс навигации по списку
end;

#doc
Расширение объектного интерфейса ICompList. Добавлен атрибут ReadOnly, методы копирования списков
#end
objinterface ICompListEx(ICompList);
  property isReadOnly: boolean read; //#docl является ли список доступным только для чтения
  #doc
  После вызова данного метода список становится доступным только для чтения.</brief>
  Сбросить этот флаг в дальнейшем нельзя.
  Метод можно использовать для первоначальной инициализации списка произвольными значениями, после
  чего установить флаг ReadOnly. Дальнейшие попытки модификации списка могут привести к генерации
  исключения ExReadOnly (зависит от реализации).
  #end
  procedure SetReadOnly;
end;

#endif
