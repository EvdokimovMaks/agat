//******************************************************************************
//                                                      (c) корпорация Галактика
// Галактика 7.12 - Логистика
// 
//******************************************************************************

#ifNdef __vesfuns_vip__
#Warning Вместо использования функций из sp_mas.vpp следует использовать методы объекта (VesFuns.vih)
#end

//******************************************************************************

function TTN_Correct_Massa(
       var _netto    : double;
       var _tara     : double;
       var _brutto   : double;
           _quest    : boolean;         // нужно ли спрашивать : TRUE - спашивать
           _default  : word             // ответ по умолчанию
         ) : boolean ;
{
  TTN_Correct_Massa := FALSE ;
  
  if boGetTune('Ves.Use')
    _default := 0 ;
  else
    if (_quest)
      if (RunDialog('TTN_correct_massa',_default)=cmCancel)
        EXIT ;

  case _default of
  //--------------
    0: _netto := _brutto - _tara;       // скорректировать массу МЦ
  //--------------
    1: _tara  := _brutto - _netto;      // скорректировать массу тары
  //--------------
  end;

  TTN_Correct_Massa := TRUE ;
}

//******************************************************************************
