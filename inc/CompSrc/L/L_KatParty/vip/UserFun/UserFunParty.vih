//******************************************************************************
//                                                      (c) корпорация Галактика
// Галактика 8.1 - Логистика
// пользовательские алгоритмы для работы с партиями
//******************************************************************************

#ifndef _UserFunParty_vih
#define _UserFunParty_vih

#ifdef ComponentVersion
#component "L_KATPARTY"
#end

//******************************************************************************
#doc
  пользовательские алгоритмы для работы с партиями
#end
//******************************************************************************

ObjInterface objUserFunParty;

//******************************************************************************
#doc
Назначение:
  формирование кода партии в формате BBBBBBBBBBAAAYYNNNNN, где
  BBBBBBBBBB - (10 символов) - Бар-код матценности
  AAA - значение настройки "..Стандартное начало кода партий"
  YY    - год создания партии,
  NNNNN - порядкорый номер прихода по МЦ в течении года YY
Параметры:
  bufParty       - буффер на каталога партий
Возвращает:
  Код партии
#end
//******************************************************************************

Function GetCodeParty(bufParty: type$KatParty): string;
end;

ObjInterface objUserFunParty02;
//******************************************************************************
#doc
Назначение:
  Вызывается до создания партии по позиции сопроводительного документа
Параметры:
  pSpSopr - позиция сопроводительного документа
Возвращает:
  True - продолжение создания партии, False - отмена создания партии
#end

Function BeforeMakeParty(pSpSopr: comp): boolean;

//******************************************************************************
#doc
Назначение:
  Вызывается после создания партии по позиции сопроводительного документа
Параметры:
  pSpSopr   - позиция сопроводительного документа
  pKatParty - созданная партия
#end

Procedure AfterMakeParty(pSpSopr, pKatParty: comp);

end;

VipInterface UserFunParty implements objUserFunParty, 
                                     objUserFunParty02 Licensed(FREE);

#end
