//*******************************************************************************
//                                                      (c) корпорация Галактика
// Галактика 8.1
// Печатные формы книг покупок/продаж с 01.01.2012
//*******************************************************************************
#declare f_(str_)
if (trim(#str_) = '', '-', #str_)
#end

#doc
Книга покупок сводная по всем валютам (с 24.01.2012)
#end
.linkform 'BkPrZkF_53_12' prototype is 'BkPrZkF'
.NameInList 'Книга покупок сводная по всем валютам (с 24.01.2012)'
.Group 'Закупки (сводная)'
.Group 'Country' subGroup 'Russia'
!-------------------------------------------------------------------
.set filler '-'
!-------------------------------------------------------------------
.var
  ind, i: longint;
  mrkKatParty: TPtr;
  npp: longint
  ISumm1_18:double;
  ISumm2_18:double;
  iG : Integer;
  strTipUser: string;
  strDesGr: string;
  arrGr : array[1..9] of Double;
  iGr : integer;
  strCO : string;
  arrCO : array[1..9] of Double;
  strKatOrg : string;
  lNumPage : longint;
.endvar
.P 60
.defo landscape
.fields
 if (RegTips = 0, 'Сводная книга покупок по валютам', 'Реестр записей (покупки) по валютам')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 UnnORInn
 MyInn
 FiltTxt
 lNumPage

 CommonFormHeader
 if (RegTips = 0, 'СВОДНАЯ КНИГА ПОКУПОК ПО ВАЛЮТАМ', 'РЕЕСТР ЗАПИСЕЙ (ПОКУПКИ) ПО ВАЛЮТАМ')
 MyOrg
 MyINN + '/' + MyKPP
! MyKPP
 DateToStr(BegDate, 'DD/MM/YYYY')
 DateToStr(EndDate, 'DD/MM/YYYY')
.endfields
.[h SKIP
.begin
  lNumPage++;
end.
 Р @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ за период с  Д@@@@@@@@@@ Д по  Д@@@@@@@@@@ Д ^  Д@@@@@@@@@@@@@@@@@@@@ Д @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   Лист  Д @@@@@ Д из _____ Р
 Ш┌───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐ Ш
 Ш│ 1 │     2     │    2а    │    2б    │    2в    │     3    │     4    │       5       │   5а   │   5б   │    6    │      7    │     8а    │     8б    │     9а    │     9б    │     10    │    11а    │     11б   │     12    │ Ш
 Ш├───┼───────────┼──────────┼──────────┼──────────┼──────────┼──────────┼───────────────┼────────┼────────┼─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
.]h
.begin
 npp := lNumFirst - 1;
 mrkKatParty := InitMarker('', 8, 10, 10);
 lNumPage := 1;
end.
^
 И
                                                                                                                      Приложение № 4
                                                                                                       к постановлению Правительства
                                                                                                                Российской Федерации
                                                                                                        от 26 декабря 2011 г. № 1137 И

 Б        @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б


 И                 Покупатель    Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ М
 И                 Идентификационный номер и код причины постановки на учет И
 И                 налогоплательщика-покупателя  Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ М
 И                 Покупка за период с  Д@@@@@@@@@@ Д по  Д@@@@@@@@@@ М

.{CheckEnter FiltKontr
.fields
  if(wKolFilt  = 1, 'Наложен фильтр по', '')
  if(wKolKontr = 1, 'контрагентам:'    , '')
  FiltKontrVal
.endfields
.[h OVERWRITE
.]h
 Р @@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Р
.}
.{CheckEnter FiltTip
.fields
  if(wKolFilt = 1, 'Наложен фильтр по', '')
  if(wKolTip  = 1, 'типам записей:'   , '')
  FiltTipVal
.endfields
.[h OVERWRITE
.]h
 Р @@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Р
.}
.{CheckEnter FiltPodr
.fields
  if(wKolFilt = 1, 'Наложен фильтр по', '')
  if(wKolPodr = 1, 'подразделениям:'  , '')
  FiltPodrVal
.endfields
.[h OVERWRITE
.]h
 Р @@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Р
.}
.fields
  GetKatOrgAttrName4Rep('UNN', 0, GetStateRef(ccRus))
.endfields
 Р                                                                                                                                                                         Лист  Д 1  Д из _____ Р
 Ш┌───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┬───────────┬───────────────────────────────────────────────────────────────────────────────────────────────┐ Ш
 Ш│ № │    Дата   │  Номер и │  Номер и │  Номер и │   Дата   │   Дата   │  Наименование │@~@@@@@@│   КПП  │  Страна │ Стоимость │                                       В том числе                                             │ Ш
 Ш│п/п│  и номер  │   дата   │   дата   │   дата   │  оплаты  │ принятия │    продавца   │продавца│продавца│происхож-│  покупок, ├───────────────────────────────────────────────────────────────────────────────────┬───────────┤ Ш
 Ш│   │   счета-  │ исправле-│ корректи-│ исправле-│  счета-  │ на учет  │               │        │        │дения то-│  включая  │                  стоимость покупок, облагаемых налогом по ставке                  │ стоимость │ Ш
 Ш│   │  фактуры  │    ния   │ ровочного│    ния   │  фактуры │ товаров  │               │        │        │  вара   │    НДС, - ├───────────────────────┬───────────────────────┬───────────┬───────────────────────┤  покупок, │ Ш
 Ш│   │ продавца  │  счета-  │  счета-  │ корректи-│ продавца │(работ,ус-│               │        │        │(цифровой│   всего   │      18 процентов     │      10 процентов     │0 процентов│      20 процентов*    │освобождае-│ Ш
 Ш│   │           │  фактуры │  фактуры │ ровочного│          │луг), иму-│               │        │        │код), но-│           ├───────────┬───────────┼───────────┬───────────┤           ├───────────┬───────────┤  мых от   │ Ш
 Ш│   │           │ продавца │ продавца │  счета-  │          │щественных│               │        │        │мер тамо-│           │ стоимость │   сумма   │ стоимость │   сумма   │           │ стоимость │   сумма   │  налога   │ Ш
 Ш│   │           │          │          │  фактуры │          │  прав    │               │        │        │ женной  │           │покупок без│    НДС    │покупок без│    НДС    │           │покупок без│    НДС    │           │ Ш
 Ш│   │           │          │          │ продавца │          │          │               │        │        │деклара- │           │    НДС    │           │    НДС    │           │           │    НДС    │           │           │ Ш
 Ш│   │           │          │          │          │          │          │               │        │        │   ции   │           │           │           │           │           │           │           │           │           │ Ш
 Ш├───┼───────────┼──────────┼──────────┼──────────┼──────────┼──────────┼───────────────┼────────┼────────┼─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
 Ш│ 1 │     2     │    2а    │    2б    │    2в    │     3    │     4    │       5       │   5а   │   5б   │    6    │      7    │     8а    │     8б    │     9а    │     9б    │     10    │    11а    │     11б   │     12    │ Ш
 Ш├───┼───────────┼──────────┼──────────┼──────────┼──────────┼──────────┼───────────────┼────────┼────────┼─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
.{
.{CheckEnter BkPrZkVal
.begin
 ISumm1_18 := 0;
 ISumm2_18 := 0;
 for(iGr := 1; iGr <= 9; iGr++)
 {
   arrGr[iGr] := 0.0;
   arrCO[iGr] := 0.0;
 }
 strTipUser := '';
 strDesGr   := '';
 strCO      := '';
 strKatOrg  := '';
end.
.fields
  Dollarah
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┤ Ш
 Ш│  Регистрация счетов-фактур в @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                                                                       │ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┤ Ш
.{CheckEnter BkPrZkMain
.begin
  npp++;
  i := 1;
end.
.if TipUsersGroup
.begin
  if (strTipUser = '')
    strTipUser := TipUsersName;
end.
.{?internal; (abs(arrGr[1]) > 0.000001) or (abs(arrGr[2]) > 0.000001) or (abs(arrGr[3]) > 0.000001) or (abs(arrGr[4]) > 0.000001) or (abs(arrGr[5]) > 0.000001) or (abs(arrGr[6]) > 0.000001) or (abs(arrGr[7]) > 0.000001) or (abs(arrGr[8]) > 0.000001) or (abs(arrGr[9]) > 0.000001);
.{?internal; (PodrName <> '');
.fields
  strCO
  arrCO[1]
  arrCO[2]
  arrCO[3]
  arrCO[6]
  arrCO[7]
  arrCO[9]
  arrCO[4]
  arrCO[5]
  arrCO[8]
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
 Ш│      Итого по подразделению @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     │&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrCO[iGr] := 0.0;
  strCO := PodrName;
end.
.}
.fields
  strTipUser
  arrGr[1]
  arrGr[2]
  arrGr[3]
  arrGr[6]
  arrGr[7]
  arrGr[9]
  arrGr[4]
  arrGr[5]
  arrGr[8]
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
 Ш│      Итого по типу записей @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     │&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrGr[iGr] := 0.0;
  strTipUser := TipUsersName;
end.
.}
.fields
  TipUsersName             // 00 название типа записи
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┤ Ш
 Ш│  Тип записей @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        │ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┤ Ш
.end //if
.if PodrGroup
.begin
  if (strCO = '')
    strCO := PodrName;
end.
.{?internal; (abs(arrCO[1]) > 0.000001) or (abs(arrCO[2]) > 0.000001) or (abs(arrCO[3]) > 0.000001) or (abs(arrCO[4]) > 0.000001) or (abs(arrCO[5]) > 0.000001) or (abs(arrCO[6]) > 0.000001) or (abs(arrCO[7]) > 0.000001) or (abs(arrCO[8]) > 0.000001) or (abs(arrCO[9]) > 0.000001);
.fields
  strCO
  arrCO[1]
  arrCO[2]
  arrCO[3]
  arrCO[6]
  arrCO[7]
  arrCO[9]
  arrCO[4]
  arrCO[5]
  arrCO[8]
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
 Ш│      Итого по подразделению @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     │&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrCO[iGr] := 0.0;
  strCO := PodrName;
end.
.}
.fields
  PodrName                // подразделение
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┤ Ш
 Ш│  Подразделение @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        │ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┤ Ш
.end
.if GroupBKObjectStroi
.fields
  ObjectName
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┤ Ш
 Ш│  Объект строительства @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        │ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┤ Ш
.end
.if KatOrgGroup
.begin
  if (strKatOrg = '')
    strKatOrg := KatOrgName;
end.
.{?internal; (abs(arrGr[1]) > 0.000001) or (abs(arrGr[2]) > 0.000001) or (abs(arrGr[3]) > 0.000001) or (abs(arrGr[4]) > 0.000001) or (abs(arrGr[5]) > 0.000001) or (abs(arrGr[6]) > 0.000001) or (abs(arrGr[7]) > 0.000001) or (abs(arrGr[8]) > 0.000001) or (abs(arrGr[9]) > 0.000001);
.fields
  strKatOrg
  arrGr[1]
  arrGr[2]
  arrGr[3]
  arrGr[6]
  arrGr[7]
  arrGr[9]
  arrGr[4]
  arrGr[5]
  arrGr[8]
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
 Ш│      Итого по контрагенту @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     │&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrGr[iGr] := 0.0;
  strKatOrg := KatOrgName;
end.
.}
.fields
  KatOrgName                // контрагент
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┤ Ш
 Ш│  Контрагент @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           │ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┤ Ш
.end
.if DesGrGroup
.begin
  if (strDesGr = '')
    strDesGr := DesGrName;
end.
.{?internal; (abs(arrGr[1]) > 0.000001) or (abs(arrGr[2]) > 0.000001) or (abs(arrGr[3]) > 0.000001) or (abs(arrGr[4]) > 0.000001) or (abs(arrGr[5]) > 0.000001) or (abs(arrGr[6]) > 0.000001) or (abs(arrGr[7]) > 0.000001) or (abs(arrGr[8]) > 0.000001) or (abs(arrGr[9]) > 0.000001);
.fields
  strDesGr
  arrGr[1]
  arrGr[2]
  arrGr[3]
  arrGr[6]
  arrGr[7]
  arrGr[9]
  arrGr[4]
  arrGr[5]
  arrGr[8]
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
 Ш│      Итого по группе дескрипторов @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     │&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrGr[iGr] := 0.0;
  strDesGr := DesGrName;
end.
.}
.fields
  DesGrName             // группа дескрипторов
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┤ Ш
 Ш│  Группа дескрипторов @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        │ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┤ Ш
.end //if DesGrGroup
.{CheckEnter BookZk
.}
.begin
  if (not isNDS20)
  {
    ISumm1_18 += Summ1;
    ISumm2_18 += Summ2;

    arrGr[2] += Summ1;
    arrGr[3] += Summ2;
    arrCO[2] += Summ1;
    arrCO[3] += Summ2;
  }
  else
  {
    arrGr[4] += Summ1;
    arrGr[5] += Summ2;
    arrCO[4] += Summ1;
    arrCO[5] += Summ2;
  }
  arrGr[1] += SummA;
  arrGr[6] += Summ4;
  arrGr[7] += Summ5;
  arrGr[8] += Summ7;
  arrGr[9] += Summ9;
  arrCO[1] += SummA;
  arrCO[6] += Summ4;
  arrCO[7] += Summ5;
  arrCO[8] += Summ7;
  arrCO[9] += Summ9;
end.
.fields
 if ( pNumParam = 0, string(NumPP), string(npp) )
 #DatNomSF(6)

 if(longint(DatRevSF) = 0, '-', if (ZeroPrint, NomRevSF, LTrim(NomRevSF, '0')) + ' ' + DateToStr(DatRevSF, 'DD/MM/YYYY'))
 if(longint(DatCorrV) = 0, '-', if (ZeroPrint, NomCorrV, LTrim(NomCorrV, '0')) + ' ' + DateToStr(DatCorrV, 'DD/MM/YYYY'))
 if(longint(DatRevCorrV) = 0, '-', if (ZeroPrint, NomRevCorrV, LTrim(NomRevCorrV, '0')) + ' ' + DateToStr(DatRevCorrV, 'DD/MM/YYYY'))
 sSomeDateOplata
 if (longInt(DatOpr) = 0, '-', DateToStr(DatOpr, 'DD/MM/YYYY'))
 KontrNameNazn
 KontrINN
 KontrKPP
 GTDCountry
 SummA
 if (not isNDS20, Summ1, 0) if (not isNDS20, Summ2, 0)
 Summ4 Summ5 Summ9
 if (isNDS20, Summ1, 0) if (isNDS20, Summ2, 0)
 Summ7
.endfields
 Ш│@@@│@@@@@@@@@@@│@@@@@@@@@@│@@@@@@@@@@│@@@@@@@@@@│@@@@@@@@@@│@@@@@@@@@@│@@@@@@@@@@@@@@@│@~@@@@@@│@~@@@@@@│@~@@@@@@@│&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Ш
.begin
  iG := 1;
end.
.{while ((GTDNomer <> '-') and (GTDNomer <> '') and (iG = 1))
.begin
  iG++;
end.
.fields
 GTDNomer
.endfields
 Ш│   │           │          │          │          │          │          │               │        │        │@~@@@@@@@│           │           │           │           │           │           │           │           │           │ Ш
.}
.}
.{?internal; PodrName <> '';
.{?internal; (abs(arrCO[1]) > 0.000001) or (abs(arrCO[2]) > 0.000001) or (abs(arrCO[3]) > 0.000001) or (abs(arrCO[4]) > 0.000001) or (abs(arrCO[5]) > 0.000001) or (abs(arrCO[6]) > 0.000001) or (abs(arrCO[7]) > 0.000001) or (abs(arrCO[8]) > 0.000001) or (abs(arrCO[9]) > 0.000001);
.fields
  PodrName
  arrCO[1]
  arrCO[2]
  arrCO[3]
  arrCO[6]
  arrCO[7]
  arrCO[9]
  arrCO[4]
  arrCO[5]
  arrCO[8]
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
 Ш│      Итого по подразделению @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     │&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrCO[iGr] := 0.0;
  strCO := PodrName;
end.
.}
.}
.{?internal; strTipUser <> '';
.{?internal; (abs(arrGr[1]) > 0.000001) or (abs(arrGr[2]) > 0.000001) or (abs(arrGr[3]) > 0.000001) or (abs(arrGr[4]) > 0.000001) or (abs(arrGr[5]) > 0.000001) or (abs(arrGr[6]) > 0.000001) or (abs(arrGr[7]) > 0.000001) or (abs(arrGr[8]) > 0.000001) or (abs(arrGr[9]) > 0.000001);
.fields
  strTipUser
  arrGr[1]
  arrGr[2]
  arrGr[3]
  arrGr[6]
  arrGr[7]
  arrGr[9]
  arrGr[4]
  arrGr[5]
  arrGr[8]
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
 Ш│      Итого по типу записи @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   │&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrGr[iGr] := 0.0;
  strTipUser := TipUsersName;
end.
.}
.}
.{?internal; strKatOrg <> '';
.{?internal; (abs(arrGr[1]) > 0.000001) or (abs(arrGr[2]) > 0.000001) or (abs(arrGr[3]) > 0.000001) or (abs(arrGr[4]) > 0.000001) or (abs(arrGr[5]) > 0.000001) or (abs(arrGr[6]) > 0.000001) or (abs(arrGr[7]) > 0.000001) or (abs(arrGr[8]) > 0.000001) or (abs(arrGr[9]) > 0.000001);
.fields
  strKatOrg
  arrGr[1]
  arrGr[2]
  arrGr[3]
  arrGr[6]
  arrGr[7]
  arrGr[9]
  arrGr[4]
  arrGr[5]
  arrGr[8]
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
 Ш│      Итого по контрагенту @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   │&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrGr[iGr] := 0.0;
  strKatOrg := KatOrgName;
end.
.}
.}
.{?internal; strDesGr <> '';
.{?internal; (abs(arrGr[1]) > 0.000001) or (abs(arrGr[2]) > 0.000001) or (abs(arrGr[3]) > 0.000001) or (abs(arrGr[4]) > 0.000001) or (abs(arrGr[5]) > 0.000001) or (abs(arrGr[6]) > 0.000001) or (abs(arrGr[7]) > 0.000001) or (abs(arrGr[8]) > 0.000001) or (abs(arrGr[9]) > 0.000001);
.fields
  strDesGr
  arrGr[1]
  arrGr[2]
  arrGr[3]
  arrGr[6]
  arrGr[7]
  arrGr[9]
  arrGr[4]
  arrGr[5]
  arrGr[8]
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
 Ш│      Итого по группе дескрипторов @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   │&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrGr[iGr] := 0.0;
  strDesGr := DesGrName;
end.
.}
.}
.fields
 Dollarah
 ISummA
 ISumm1_18
 ISumm2_18
 ISumm4
 ISumm5
 ISumm9
 ISumm1 - ISumm1_18
 ISumm2 - ISumm2_18
 ISumm7
.endfields
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
 Ш│      Итого по счетам-фактурам в @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                      │&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
.[f
 Ш└───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┴────────┴────────┴─────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘ Ш
.]f
.}
 Ш┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐ Ш
.{CheckEnter BkPrZkAllVal
.fields
 AllDollarah
 AllSummA
 AllSumm1_18
 AllSumm2_18
 AllSumm4
 AllSumm5
 AllSumm9
 AllSumm1 - AllSumm1_18
 AllSumm2 - AllSumm2_18
 AllSumm7
 Signer
 SignerDover
.endfields
 Ш│      Итого по счетам-фактурам в @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                   │&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Ш
.}
 Ш└──────────────────────────────────────────────────────────────────────────────────────────────────────────────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘ Ш

.}
 И
     Руководитель организации или иное уполномоченное лицо      _________________________  Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д
                                                                       (подпись)                   (Ф.И.О.)
                                                                                          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

     Индивидуальный предприниматель_____________ _____________________________________
                                    (подпись)                   (Ф.И.О.)
     Реквизиты свидетельства о государственной
     регистрации индивидуального предпринимателя _____________________________________

________________________________________________________________________________________________________________
 * До завершения расчетов по товарам (работам, услугам), отгруженным (выполненным, оказанным) до 1 января 2004 г. И
.begin
  DoneMarker(mrkKatParty, '');
end.
.endform

!//\\//\//\\//\\//\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\
#doc
Книга покупок (с 24.01.2012)
#end
.linkform 'BkPrZkF_54_12' prototype is 'BkPrZkF'
.NameInList 'Книга покупок (с 24.01.2012)'
.Group 'Закупки'
.Group 'Country' subGroup 'Russia'
!-------------------------------------------------------------------
.set filler '-'
!-------------------------------------------------------------------
.var
  ind, i: longint;
  LSA:double
  LS1:double
  LS2:double
  LS4:double
  LS5:double
  LS9:double
  LS7:double
  LS1_18:double
  LS2_18:double

  ISumm1_18:double;
  ISumm2_18:double;

  npp: longint
  mrkKatParty: TPtr;

  iG : Integer;
  nPage: longint;
.endvar
.P 60
.defo landscape
.begin
 nPage := firstPage;
end.
.fields
 if (RegTips = 0, 'Книга покупок', 'Реестр записей (покупки)')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 Valuta
 UnnORInn
 MyInn
 FiltTxt
 nPage

 CommonFormHeader
 if (RegTips = 0, 'КНИГА ПОКУПОК', 'РЕЕСТР ЗАПИСЕЙ (ПОКУПКИ)')
 MyOrg
 MyINN + '/' + MyKPP
! MyKPP
 DateToStr(BegDate, 'DD/MM/YYYY')
 DateToStr(EndDate, 'DD/MM/YYYY')
! Valuta
.endfields
.[h OVERWRITE SKIP
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS1_18:=0.0;
 LS2_18:=0.0;

 nPage++;
end.
 Р @@@@@@@@@@@@@@@@@@@@@@@@ за период с  Д@@@@@@@@@@ Д по  Д@@@@@@@@@@ Д Валюта учета @@@@@@@@@@@@@@@@@@@@ ^  Д@@@@@@@@@@@@@@@@@@@@ Д @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Лист  Д @@@@@  Д из _____ Р
 Ш┌───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐ Ш
 Ш│ 1 │     2     │    2а    │    2б    │    2в    │     3    │     4    │       5       │   5а   │   5б   │    6    │      7    │     8а    │     8б    │     9а    │     9б    │     10    │    11а    │     11б   │     12    │ Ш
 Ш├───┼───────────┼──────────┼──────────┼──────────┼──────────┼──────────┼───────────────┼────────┼────────┼─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
.]h
.begin
 npp := lNumFirst - 1;
 mrkKatParty := InitMarker('', 8, 10, 10);

 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS1_18:=0.0;
 LS2_18:=0.0;
end.
^
 И
                                                                                                                      Приложение № 4
                                                                                                       к постановлению Правительства
                                                                                                                Российской Федерации
                                                                                                        от 26 декабря 2011 г. № 1137 И

 Б     @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б


 И                 Покупатель    Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ М
 И                 Идентификационный номер и код причины постановки на учет И
 И                 налогоплательщика-покупателя  Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ М
 И                 Покупка за период с  Д@@@@@@@@@@ Д по  Д@@@@@@@@@@ М

.{CheckEnter FiltKontr
.fields
  if(wKolFilt  = 1, 'Наложен фильтр по', '')
  if(wKolKontr = 1, 'контрагентам:'    , '')
  FiltKontrVal
.endfields
.[h OVERWRITE
.]h
 Р @@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Р
.}
.{CheckEnter FiltTip
.fields
  if(wKolFilt = 1, 'Наложен фильтр по', '')
  if(wKolTip  = 1, 'типам записей:'   , '')
  FiltTipVal
.endfields
.[h OVERWRITE
.]h
 Р @@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Р
.}
.{CheckEnter FiltPodr
.fields
  if(wKolFilt = 1, 'Наложен фильтр по', '')
  if(wKolPodr = 1, 'подразделениям:'  , '')
  FiltPodrVal
.endfields
.[h OVERWRITE
.]h
 Р @@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Р
.}
.fields
  nPage
  GetKatOrgAttrName4Rep('UNN', 0, GetStateRef(ccRus))
.endfields
 Р                                                                                                                                                                      Лист  Д @@@@@  Д из _____ Р
 Ш┌───┬───────────┬──────────┬──────────┬──────────┬──────────┬──────────┬───────────────┬────────┬────────┬─────────┬───────────┬───────────────────────────────────────────────────────────────────────────────────────────────┐ Ш
 Ш│ № │    Дата   │  Номер и │  Номер и │  Номер и │   Дата   │   Дата   │  Наименование │@~@@@@@@│   КПП  │  Страна │ Стоимость │                                       В том числе                                             │ Ш
 Ш│п/п│  и номер  │   дата   │   дата   │   дата   │  оплаты  │ принятия │    продавца   │продавца│продавца│происхож-│  покупок, ├───────────────────────────────────────────────────────────────────────────────────┬───────────┤ Ш
 Ш│   │   счета-  │ исправле-│ корректи-│ исправле-│  счета-  │ на учет  │               │        │        │дения то-│  включая  │                    стоимость покупок, облагаемых налогом по ставке                │ стоимость │ Ш
 Ш│   │  фактуры  │    ния   │ ровочного│    ния   │  фактуры │ товаров  │               │        │        │  вара   │    НДС, - ├───────────────────────┬───────────────────────┬───────────┬───────────────────────┤  покупок, │ Ш
 Ш│   │ продавца  │  счета-  │  счета-  │ корректи-│ продавца │(работ,ус-│               │        │        │(цифровой│   всего   │      18 процентов     │      10 процентов     │0 процентов│      20 процентов*    │освобождае-│ Ш
 Ш│   │           │  фактуры │  фактуры │ ровочного│          │луг), иму-│               │        │        │код), но-│           ├───────────┬───────────┼───────────┬───────────┤           ├───────────┬───────────┤  мых от   │ Ш
 Ш│   │           │ продавца │ продавца │  счета-  │          │щественных│               │        │        │мер тамо-│           │ стоимость │   сумма   │ стоимость │   сумма   │           │ стоимость │   сумма   │  налога   │ Ш
 Ш│   │           │          │          │  фактуры │          │  прав    │               │        │        │ женной  │           │покупок без│    НДС    │покупок без│    НДС    │           │покупок без│    НДС    │           │ Ш
 Ш│   │           │          │          │ продавца │          │          │               │        │        │деклара- │           │    НДС    │           │    НДС    │           │           │    НДС    │           │           │ Ш
 Ш│   │           │          │          │          │          │          │               │        │        │   ции   │           │           │           │           │           │           │           │           │           │ Ш
 Ш├───┼───────────┼──────────┼──────────┼──────────┼──────────┼──────────┼───────────────┼────────┼────────┼─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
 Ш│ 1 │     2     │    2а    │    2б    │    2в    │     3    │     4    │       5       │   5а   │   5б   │    6    │      7    │     8а    │     8б    │     9а    │     9б    │     10    │    11а    │     11б   │     12    │ Ш
 Ш├───┼───────────┼──────────┼──────────┼──────────┼──────────┼──────────┼───────────────┼────────┼────────┼─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
.{
.{CheckEnter BkPrZkVal
.begin
 ISumm1_18 := 0;
 ISumm2_18 := 0;
end.
.{CheckEnter BkPrZkMain
.begin
  npp++;
  i := 1;
end.
.if TipUsersGroup
.end //if
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.if KatOrgGroup
.end
.if DesGrGroup
.end
.{CheckEnter BookZk
.}
.begin
  if (not isNDS20)
  {
    ISumm1_18 += Summ1;
    ISumm2_18 += Summ2;
    LS1_18    += Summ1;
    LS2_18    += Summ2;
  }

  LSA+=SummA;
  LS1+=Summ1;
  LS2+=Summ2;
  LS4+=Summ4;
  LS5+=Summ5;
  LS9+=Summ9;
  LS7+=Summ7;
end.
.fields
 if (pNumParam = 0, string(NumPP), string(npp))
 #DatNomSF(6)
 if(longint(DatRevSF)    = 0, '-', if (ZeroPrint, NomRevSF   , LTrim(NomRevSF   , '0')) + ' ' + DateToStr(DatRevSF   , 'DD/MM/YYYY'))
 if(longint(DatCorrV)    = 0, '-', if (ZeroPrint, NomCorrV   , LTrim(NomCorrV   , '0')) + ' ' + DateToStr(DatCorrV   , 'DD/MM/YYYY'))
 if(longint(DatRevCorrV) = 0, '-', if (ZeroPrint, NomRevCorrV, LTrim(NomRevCorrV, '0')) + ' ' + DateToStr(DatRevCorrV, 'DD/MM/YYYY'))
 sSomeDateOplata
 if (longint(DatOpr) = 0, '-', DateToStr(DatOpr,'DD/MM/YYYY'))
 KontrNameNazn
 KontrINN
 KontrKPP
 GTDCountry
 SummA
 if (not isNDS20, Summ1, 0) if (not isNDS20, Summ2, 0)
 Summ4 Summ5 Summ9
 if (isNDS20, Summ1, 0) if (isNDS20, Summ2, 0)
 Summ7
.endfields
 Ш│@@@│@@@@@@@@@@@│@@@@@@@@@@│@@@@@@@@@@│@@@@@@@@@@│@@@@@@@@@@│@@@@@@@@@@│@@@@@@@@@@@@@@@│@~@@@@@@│@~@@@@@@│@~@@@@@@@│&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Ш
.begin
  iG := 1;
end.
.{while ((GTDNomer <> '-') and (GTDNomer <> '') and (iG = 1))
.begin
  iG++;
end.
.fields
 GTDNomer
.endfields
 Ш│   │           │          │          │          │          │          │               │        │        │@~@@@@@@@│           │           │           │           │           │           │           │           │           │ Ш
.}
.fields
 nPage
 LSA
 LS1_18
 LS2_18
 LS4 LS5 LS9
 LS1 - LS1_18
 LS2 - LS2_18
 LS7
.endfields
.[f OverWrite
 Ш├───┴───────────┴──────────┴──────────┴──────────┴──────────┴──────────┴───────────────┼────────┴────────┴─────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┼───────────┤ Ш
 Ш│                                                                                      │ Всего по листу № @@@@@    │&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш└──────────────────────────────────────────────────────────────────────────────────────┴───────────────────────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘ Ш
.]f
.}
.fields
 ISummA
 ISumm1_18
 ISumm2_18
 ISumm4 ISumm5 ISumm9
 ISumm1 - ISumm1_18
 ISumm2 - ISumm2_18
 ISumm7
 Signer
 SignerDover
.endfields
 Щ┌──────────────────────────────────────────────────────────────────────────────────────┬───────────────────────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┬───────────┐ Щ
 Щ│                                                                                      │ Всего                     │&'&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│&'#&&&&&.&&│ Щ
 Щ└──────────────────────────────────────────────────────────────────────────────────────┴───────────────────────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┴───────────┘ Щ


.}
.{CheckEnter BkPrZkAllVal
.}
.}
 И
     Руководитель организации или иное уполномоченное лицо   _________________________  Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д
                                                                    (подпись)                  (Ф.И.О.)
                                                                                       @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

     Индивидуальный предприниматель_____________ _____________________________________
                                    (подпись)                  (Ф.И.О.)
     Реквизиты свидетельства о государственной
     регистрации индивидуального предпринимателя _____________________________________

________________________________________________________________________________________________________________
 * До завершения расчетов по товарам (работам, услугам), отгруженным (выполненным, оказанным) до 1 января 2004 г. И
!
.begin
  DoneMarker(mrkKatParty, '');
  SaveMyDsk(nPage + 1, 'p'+'bkprzkf_g_numPageBk');
end.
.endform
!//\\//\//\\//\\//\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\
#doc
Книга продаж сводная по всем валютам (c 24.01.2012)
#end
.linkform 'BkPrZkF_41_12' prototype is 'BkPrZkF'
.NameInList 'Книга продаж сводная по всем валютам (c 24.01.2012)'
.Group 'Продажи (сводная)'
.Group 'Country' subGroup 'Russia'
.set filler '-'
.var
  ISumm1_18:double;
  ISumm2_18:double;
  strTipUser: string;
  strDesGr: string;
  arrGr : array[1..9] of Double;
  iGr : integer;
  strCO : string;
  arrCO : array[1..9] of Double;
  strKatOrg : string;
  lNumPage : longint;
.endvar
.P 60
.defo landscape
.fields
 if (RegTips = 0,'Сводная книга продаж по валютам',
                 'Реестр записей (продажи) по валютам')
 DateToStr(BegDate, 'DD/MM/YYYY')
 DateToStr(EndDate, 'DD/MM/YYYY')
 UnnORInn
 MyInn
 FiltTxt
 lNumPage

 CommonFormHeader
 if (RegTips = 0, 'СВОДНАЯ КНИГА ПРОДАЖ ПО ВАЛЮТАМ', 'РЕЕСТР ЗАПИСЕЙ (ПРОДАЖИ) ПО ВАЛЮТАМ')
 MyOrg
 MyINN + '/' + MyKPP
! MyKPP
 DateToStr(BegDate, 'DD/MM/YYYY')
 DateToStr(EndDate, 'DD/MM/YYYY')
.endfields
.[h SKIP
.begin
  lNumPage++;
end.
 Р @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ за период с  Д@@@@@@@@@@ Д по  Д@@@@@@@@@@ Д ^  Д@@@@@@@@@@@@@@@@@@@@ Д @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    Лист  Д @@@@@  Д из _____ Р
 Ш┌────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┬─────────────┬─────────────┬────────────┬─────────────┬────────────┬───────────┬─────────────┬────────────┬───────────┐ Ш
 Ш│      1     │     1а    │    1б     │     1в    │          2          │     3    │     3а   │    3б    │      4      │      5а     │     5б     │      6а     │     6б     │     7     │      8а     │      8б    │     9     │ Ш
 Ш├────────────┼───────────┼───────────┼───────────┼─────────────────────┼──────────┼──────────┼──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
.]h
^
 И
                                                                                                                     Приложение № 5
                                                                                                      к постановлению Правительства
                                                                                                               Российской Федерации
                                                                                                       от 26 декабря 2011 г. № 1137 И

 Б     @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б


 И                     Продавец      Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ М
 И                     Идентификационный номер и код причины постановки на учет И
 И                     налогоплательщика-продавца  Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ М
 И                     Продажа за период с  Д@@@@@@@@@@ Д по  Д@@@@@@@@@@ М

.{CheckEnter FiltKontr
.fields
  if(wKolFilt  = 1, 'Наложен фильтр по', '')
  if(wKolKontr = 1, 'контрагентам:'    , '')
  FiltKontrVal
.endfields
.[h OVERWRITE
.]h
 Р @@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Р
.}
.{CheckEnter FiltTip
.fields
  if(wKolFilt = 1, 'Наложен фильтр по', '')
  if(wKolTip  = 1, 'типам записей:'   , '')
  FiltTipVal
.endfields
.[h OVERWRITE
.]h
 Р @@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Р
.}
.{CheckEnter FiltPodr
.fields
  if(wKolFilt = 1, 'Наложен фильтр по', '')
  if(wKolPodr = 1, 'подразделениям:'  , '')
  FiltPodrVal
.endfields
.[h OVERWRITE
.]h
 Р @@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Р
.}
.fields
  GetKatOrgAttrName4Rep('UNN', 0, GetStateRef(ccRus))
.endfields
 Р                                                                                                                                                                    Лист  Д 1  Д из _____ Р
 Ш┌────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┬─────────────┬────────────────────────────────────────────────────────────────────────────────────────────────────────┐ Ш
 Ш│   Дата и   │  Номер и  │  Номер и  │  Номер и  │     Наименование    │@~@@@@@@@@│   КПП    │   Дата   │  Стоимость  │                                         В том числе                                                    │ Ш
 Ш│    номер   │    дата   │   дата    │   дата    │      покупателя     │покупателя│покупателя│  оплаты  │   продаж,   ├────────────────────────────────────────────────────────────────────────────────────────────┬───────────┤ Ш
 Ш│   счета-   │исправления│корректиро-│исправления│                     │          │          │  счета-  │   включая   │                        стоимость продаж, облагаемых налогом по ставке                      │ стоимость │ Ш
 Ш│   фактуры  │  счета-   │  вочного  │корректиро-│                     │          │          │ фактуры  │     НДС, -  ├──────────────────────────┬──────────────────────────┬───────────┬──────────────────────────┤  продаж,  │ Ш
 Ш│  продавца  │  фактуры  │  счета-   │  вочного  │                     │          │          │ продавца │    всего    │       18 процентов       │        10 процентов      │0 процентов│        20 процентов*     │освобождае-│ Ш
 Ш│            │ продавца  │  фактуры  │  счета-   │                     │          │          │          │             ├─────────────┬────────────┼─────────────┬────────────┤           ├─────────────┬────────────┤  мых от   │ Ш
 Ш│            │           │ продавца  │  фактуры  │                     │          │          │          │             │  стоимость  │    сумма   │  стоимость  │    сумма   │           │  стоимость  │    сумма   │  налога   │ Ш
 Ш│            │           │           │ продавца  │                     │          │          │          │             │  продаж без │     НДС    │  продаж без │     НДС    │           │  продаж без │     НДС    │           │ Ш
 Ш│            │           │           │           │                     │          │          │          │             │      НДС    │            │     НДС     │            │           │     НДС     │            │           │ Ш
 Ш├────────────┼───────────┼───────────┼───────────┼─────────────────────┼──────────┼──────────┼──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
 Ш│      1     │     1а    │    1б     │     1в    │          2          │     3    │     3а   │    3б    │      4      │      5а     │     5б     │      6а     │     6б     │     7     │      8а     │      8б    │     9     │ Ш
 Ш├────────────┼───────────┼───────────┼───────────┼─────────────────────┼──────────┼──────────┼──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
.begin
  lNumPage := 1;
end.
.{
.{CheckEnter BkPrZkVal
.begin
 ISumm1_18 := 0;
 ISumm2_18 := 0;
 for(iGr := 1; iGr <= 9; iGr++)
 {
   arrGr[iGr] := 0.0;
   arrCO[iGr] := 0.0;
 }
 strTipUser := '';
 strDesGr   := '';
 strCO      := '';
 strKatOrg  := '';

end.
.fields
  Dollarah
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┴─────────────┴─────────────┴────────────┴─────────────┴────────────┴───────────┴─────────────┴────────────┴───────────┤ Ш
 Ш│  Регистрация счетов-фактур в @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                                                                      │ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┬─────────────┬─────────────┬────────────┬─────────────┬────────────┬───────────┬─────────────┬────────────┬───────────┤ Ш
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.begin
  if (strTipUser = '')
    strTipUser := TipUsersName;
end.
.{?internal; (abs(arrGr[1]) > 0.000001) or (abs(arrGr[2]) > 0.000001) or (abs(arrGr[3]) > 0.000001) or (abs(arrGr[4]) > 0.000001) or (abs(arrGr[5]) > 0.000001) or (abs(arrGr[6]) > 0.000001) or (abs(arrGr[7]) > 0.000001) or (abs(arrGr[8]) > 0.000001) or (abs(arrGr[9]) > 0.000001);
.{?internal; (PodrName <> '');
.fields
  strCO
  arrCO[1]
  arrCO[2]
  arrCO[3]
  arrCO[6]
  arrCO[7]
  arrCO[9]
  arrCO[4]
  arrCO[5]
  arrCO[8]
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
 Ш│      Итого по подразделению @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ │&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrCO[iGr] := 0.0;
  strCO := PodrName;
end.
.}
.fields
  strTipUser
  arrGr[1]
  arrGr[2]
  arrGr[3]
  arrGr[6]
  arrGr[7]
  arrGr[9]
  arrGr[4]
  arrGr[5]
  arrGr[8]
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
 Ш│      Итого по типу записей @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ │&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrGr[iGr] := 0.0;
  strTipUser := TipUsersName;
end.
.}
.fields
  TipUsersName             // 00 название типа записи
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┴─────────────┴─────────────┴────────────┴─────────────┴────────────┴───────────┴─────────────┴────────────┴───────────┤ Ш
 Ш│  Тип записей @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@       │ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┬─────────────┬─────────────┬────────────┬─────────────┬────────────┬───────────┬─────────────┬────────────┬───────────┤ Ш
.end
.if PodrGroup
.begin
  if (strCO = '')
    strCO := PodrName;
end.
.{?internal; (abs(arrCO[1]) > 0.000001) or (abs(arrCO[2]) > 0.000001) or (abs(arrCO[3]) > 0.000001) or (abs(arrCO[4]) > 0.000001) or (abs(arrCO[5]) > 0.000001) or (abs(arrCO[6]) > 0.000001) or (abs(arrCO[7]) > 0.000001) or (abs(arrCO[8]) > 0.000001) or (abs(arrCO[9]) > 0.000001);
.fields
  strCO
  arrCO[1]
  arrCO[2]
  arrCO[3]
  arrCO[6]
  arrCO[7]
  arrCO[9]
  arrCO[4]
  arrCO[5]
  arrCO[8]
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
 Ш│      Итого по подразделению @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ │&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrCO[iGr] := 0.0;
  strCO := PodrName;
end.
.}
.fields
  PodrName                // подразделение
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┴─────────────┴─────────────┴────────────┴─────────────┴────────────┴───────────┴─────────────┴────────────┴───────────┤ Ш
 Ш│  Подразделение @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@       │ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┬─────────────┬─────────────┬────────────┬─────────────┬────────────┬───────────┬─────────────┬────────────┬───────────┤ Ш
.end
.if GroupBKObjectStroi
.fields
  ObjectName                // подразделение
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┴─────────────┴─────────────┴────────────┴─────────────┴────────────┴───────────┴─────────────┴────────────┴───────────┤ Ш
 Ш│  Объект строительства @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@       │ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┬─────────────┬─────────────┬────────────┬─────────────┬────────────┬───────────┬─────────────┬────────────┬───────────┤ Ш
.end
.if KatOrgGroup
.begin
  if (strKatOrg = '')
    strKatOrg := KatOrgName;
end.
.{?internal; (abs(arrGr[1]) > 0.000001) or (abs(arrGr[2]) > 0.000001) or (abs(arrGr[3]) > 0.000001) or (abs(arrGr[4]) > 0.000001) or (abs(arrGr[5]) > 0.000001) or (abs(arrGr[6]) > 0.000001) or (abs(arrGr[7]) > 0.000001) or (abs(arrGr[8]) > 0.000001) or (abs(arrGr[9]) > 0.000001);
.fields
  strKatOrg
  arrGr[1]
  arrGr[2]
  arrGr[3]
  arrGr[6]
  arrGr[7]
  arrGr[9]
  arrGr[4]
  arrGr[5]
  arrGr[8]
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
 Ш│      Итого по контрагенту @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ │&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrGr[iGr] := 0.0;
  strKatOrg := KatOrgName;
end.
.}
.fields
  KatOrgName                // контрагент
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┴─────────────┴─────────────┴────────────┴─────────────┴────────────┴───────────┴─────────────┴────────────┴───────────┤ Ш
 Ш│  Контрагент @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@       │ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┬─────────────┬─────────────┬────────────┬─────────────┬────────────┬───────────┬─────────────┬────────────┬───────────┤ Ш
.end
.if DesGrGroup
.begin
  if (strDesGr = '')
    strDesGr := DesGrName;
end.
.{?internal; (abs(arrGr[1]) > 0.000001) or (abs(arrGr[2]) > 0.000001) or (abs(arrGr[3]) > 0.000001) or (abs(arrGr[4]) > 0.000001) or (abs(arrGr[5]) > 0.000001) or (abs(arrGr[6]) > 0.000001) or (abs(arrGr[7]) > 0.000001) or (abs(arrGr[8]) > 0.000001) or (abs(arrGr[9]) > 0.000001);
.fields
  strDesGr
  arrGr[1]
  arrGr[2]
  arrGr[3]
  arrGr[6]
  arrGr[7]
  arrGr[9]
  arrGr[4]
  arrGr[5]
  arrGr[8]
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
 Ш│      Итого по группе дескрипторов @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ │&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrGr[iGr] := 0.0;
  strDesGr := DesGrName;
end.
.}
.fields
  DesGrName             // группа дескрипторов
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┴─────────────┴─────────────┴────────────┴─────────────┴────────────┴───────────┴─────────────┴────────────┴───────────┤ Ш
 Ш│  Группа дескрипторов @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@       │ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┬─────────────┬─────────────┬────────────┬─────────────┬────────────┬───────────┬─────────────┬────────────┬───────────┤ Ш
.end
.{CheckEnter BookZk
.}
.begin
  if (not isNDS20)
  {
    ISumm1_18 += Summ1;
    ISumm2_18 += Summ2;

    arrGr[2] += Summ1;
    arrGr[3] += Summ2;
    arrCO[2] += Summ1;
    arrCO[3] += Summ2;
  }
  else
  {
    arrGr[4] += Summ1;
    arrGr[5] += Summ2;
    arrCO[4] += Summ1;
    arrCO[5] += Summ2;
  }
  arrGr[1] += SummA;
  arrGr[6] += Summ4;
  arrGr[7] += Summ5;
  arrGr[8] += Summ7;
  arrGr[9] += Summ9;
  arrCO[1] += SummA;
  arrCO[6] += Summ4;
  arrCO[7] += Summ5;
  arrCO[8] += Summ7;
  arrCO[9] += Summ9;
end.
.fields
 #DatNomSF(6)
 if(longint(DatRevSF)    = 0, '-', if (ZeroPrint, NomRevSF   , LTrim(NomRevSF   , '0')) + ' ' + DateToStr(DatRevSF   , 'DD/MM/YYYY'))
 if(longint(DatCorrV)    = 0, '-', if (ZeroPrint, NomCorrV   , LTrim(NomCorrV   , '0')) + ' ' + DateToStr(DatCorrV   , 'DD/MM/YYYY'))
 if(longint(DatRevCorrV) = 0, '-', if (ZeroPrint, NomRevCorrV, LTrim(NomRevCorrV, '0')) + ' ' + DateToStr(DatRevCorrV, 'DD/MM/YYYY'))
 KontrNameNazn
 KontrINN
 KontrKPP
 sSomeDateOplata
 SummA
 if (not isNDS20, Summ1, 0) if (not isNDS20, Summ2, 0)
 Summ4 Summ5 Summ9
 if (isNDS20, Summ1, 0) if (isNDS20, Summ2, 0)
 Summ7
.endfields
 Ш│@@@@@@@@@@@@│@@@@@@@@@@@│@@@@@@@@@@@│@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@│@~@@@@@@@@│@~@@@@@@@@│@~@@@@@@@@│&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Ш
.}
.{?internal; PodrName <> '';
.{?internal; (abs(arrCO[1]) > 0.000001) or (abs(arrCO[2]) > 0.000001) or (abs(arrCO[3]) > 0.000001) or (abs(arrCO[4]) > 0.000001) or (abs(arrCO[5]) > 0.000001) or (abs(arrCO[6]) > 0.000001) or (abs(arrCO[7]) > 0.000001) or (abs(arrCO[8]) > 0.000001) or (abs(arrCO[9]) > 0.000001);
.fields
  PodrName
  arrCO[1]
  arrCO[2]
  arrCO[3]
  arrCO[6]
  arrCO[7]
  arrCO[9]
  arrCO[4]
  arrCO[5]
  arrCO[8]
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
 Ш│      Итого по подразделению @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ │&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrCO[iGr] := 0.0;
  strCO := PodrName;
end.
.}
.}
.{?internal; strTipUser <> '';
.{?internal; (abs(arrGr[1]) > 0.000001) or (abs(arrGr[2]) > 0.000001) or (abs(arrGr[3]) > 0.000001) or (abs(arrGr[4]) > 0.000001) or (abs(arrGr[5]) > 0.000001) or (abs(arrGr[6]) > 0.000001) or (abs(arrGr[7]) > 0.000001) or (abs(arrGr[8]) > 0.000001) or (abs(arrGr[9]) > 0.000001);
.fields
  strTipUser
  arrGr[1]
  arrGr[2]
  arrGr[3]
  arrGr[6]
  arrGr[7]
  arrGr[9]
  arrGr[4]
  arrGr[5]
  arrGr[8]
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
 Ш│      Итого по типу записей @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ │&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrGr[iGr] := 0.0;
  strTipUser := TipUsersName;
end.
.}
.}
.{?internal; strKatOrg <> '';
.{?internal; (abs(arrGr[1]) > 0.000001) or (abs(arrGr[2]) > 0.000001) or (abs(arrGr[3]) > 0.000001) or (abs(arrGr[4]) > 0.000001) or (abs(arrGr[5]) > 0.000001) or (abs(arrGr[6]) > 0.000001) or (abs(arrGr[7]) > 0.000001) or (abs(arrGr[8]) > 0.000001) or (abs(arrGr[9]) > 0.000001);
.fields
  strKatOrg
  arrGr[1]
  arrGr[2]
  arrGr[3]
  arrGr[6]
  arrGr[7]
  arrGr[9]
  arrGr[4]
  arrGr[5]
  arrGr[8]
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
 Ш│      Итого по контрагенту  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ │&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш

.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrGr[iGr] := 0.0;
  strKatOrg := KatOrgName;
end.
.}
.}
.{?internal; strDesGr <> '';
.{?internal; (abs(arrGr[1]) > 0.000001) or (abs(arrGr[2]) > 0.000001) or (abs(arrGr[3]) > 0.000001) or (abs(arrGr[4]) > 0.000001) or (abs(arrGr[5]) > 0.000001) or (abs(arrGr[6]) > 0.000001) or (abs(arrGr[7]) > 0.000001) or (abs(arrGr[8]) > 0.000001) or (abs(arrGr[9]) > 0.000001);
.fields
  strDesGr
  arrGr[1]
  arrGr[2]
  arrGr[3]
  arrGr[6]
  arrGr[7]
  arrGr[9]
  arrGr[4]
  arrGr[5]
  arrGr[8]
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
 Ш│      Итого по группе дескрипторов @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ │&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
.begin
  for(iGr := 1; iGr <= 9; iGr++)
    arrGr[iGr] := 0.0;
  strDesGr := DesGrName;
end.
.}
.}
.fields
 Dollarah
 ISummA
 ISumm1_18
 ISumm2_18
 ISumm4
 ISumm5
 ISumm9
 ISumm1 - ISumm1_18
 ISumm2 - ISumm2_18
 ISumm7
.endfields
 Ш├────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
 Ш│      Итого по счетам-фактурам в @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         │&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш├────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
.[f
 Ш└────────────┴───────────┴───────────┴───────────┴─────────────────────┴──────────┴──────────┴──────────┴─────────────┴─────────────┴────────────┴─────────────┴────────────┴───────────┴─────────────┴────────────┴───────────┘ Ш
.]f
.}
 Ш┌───────────────────────────────────────────────────────────────────────────────────────────────────────┬─────────────┬─────────────┬────────────┬─────────────┬────────────┬───────────┬─────────────┬────────────┬───────────┐ Ш
.{CheckEnter BkPrZkAllVal
.fields
 AllDollarah
 AllSummA
 AllSumm1_18
 AllSumm2_18
 AllSumm4
 AllSumm5
 AllSumm9
 AllSumm1 - AllSumm1_18
 AllSumm2 - AllSumm2_18
 AllSumm7
 Signer
 SignerDover
.endfields
 Ш│      Итого по счетам-фактурам в @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         │&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Ш
.}
 Ш└───────────────────────────────────────────────────────────────────────────────────────────────────────┴─────────────┴─────────────┴────────────┴─────────────┴────────────┴───────────┴─────────────┴────────────┴───────────┘ Ш
.}
 И
     Руководитель организации или иное уполномоченное лицо      _________________________  Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д
                                                                       (подпись)                (Ф.И.О.)
                                                                                          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

     Индивидуальный предприниматель_____________ _____________________________________
                                    (подпись)                (Ф.И.О.)
     Реквизиты свидетельства о государственной
     регистрации индивидуального предпринимателя _____________________________________

_____________________________________________________________________
 * До завершения расчетов по товарам (работам, услугам),  отгруженным
(выполненным, оказанным) до 1 января 2004 г. И
.endform

!//\\//\//\\//\\//\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\
#doc
Книга продаж (с 24.01.2012)
#end
.linkform 'BkPrZkF_42_12' prototype is 'BkPrZkF'
.NameInList 'Книга продаж (с 24.01.2012)'
.Group 'Продажи'
.Group 'Country' subGroup 'Russia'
.set filler '-'
.P 60
.defo landscape
.var
 LSA:double
 LS1:double
 LS2:double
 LS4:double
 LS5:double
 LS9:double
 LS7:double
 LS1_18:double
 LS2_18:double

 ISumm1_18:double;
 ISumm2_18:double;
 nPage: longint;
.endvar
.begin
 nPage := firstPage;
end.
.fields
 if (RegTips = 0, 'Книга продаж', 'Реестр записей (продажи)')
 DateToStr(BegDate, 'DD/MM/YYYY')
 DateToStr(EndDate, 'DD/MM/YYYY')
 Valuta
 UnnORInn
 MyInn
 FiltTxt
 nPage

 CommonFormHeader
 if (RegTips = 0, 'КНИГА ПРОДАЖ', 'РЕЕСТР ЗАПИСЕЙ (ПРОДАЖИ)')
 MyOrg
 MyINN + '/' + MyKPP
! MyKPP
 DateToStr(BegDate, 'DD/MM/YYYY')
 DateToStr(EndDate, 'DD/MM/YYYY')
! Valuta
.endfields
.[h SKIP
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS1_18:=0.0;
 LS2_18:=0.0;

 nPage++;
end.
 Р @@@@@@@@@@@@@@@@@@@@@@@@ за период с  Д@@@@@@@@@@ Д по  Д@@@@@@@@@@ Д Валюта учета @@@@@@@@@@@@@@@@@@@@ ^  Д@@@@@@@@@@@@@@@@@@@@ Д @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Лист  Д @@@@@  Д из _____ Р
 Ш┌────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┬─────────────┬─────────────┬────────────┬─────────────┬────────────┬───────────┬─────────────┬────────────┬───────────┐ Ш
 Ш│      1     │     1а    │    1б     │     1в    │          2          │     3    │     3а   │    3б    │      4      │      5а     │     5б     │      6а     │     6б     │     7     │      8а     │      8б    │     9     │ Ш
 Ш├────────────┼───────────┼───────────┼───────────┼─────────────────────┼──────────┼──────────┼──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
.]h
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS1_18:=0.0;
 LS2_18:=0.0;
end.
^
 И
                                                                                                                     Приложение № 5
                                                                                                      к постановлению Правительства
                                                                                                               Российской Федерации
                                                                                                       от 26 декабря 2011 г. № 1137 И

 Б    @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б


 И                     Продавец      Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ М
 И                     Идентификационный номер и код причины постановки на учет И
 И                     налогоплательщика-продавца  Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ М
 И                     Продажа за период с  Д@@@@@@@@@@ Д по  Д@@@@@@@@@@ М

.{CheckEnter FiltKontr
.fields
  if(wKolFilt  = 1, 'Наложен фильтр по', '')
  if(wKolKontr = 1, 'контрагентам:'    , '')
  FiltKontrVal
.endfields
.[h OVERWRITE
.]h
 Р @@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Р
.}
.{CheckEnter FiltTip
.fields
  if(wKolFilt = 1, 'Наложен фильтр по', '')
  if(wKolTip  = 1, 'типам записей:'   , '')
  FiltTipVal
.endfields
.[h OVERWRITE
.]h
 Р @@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Р
.}
.{CheckEnter FiltPodr
.fields
  if(wKolFilt = 1, 'Наложен фильтр по', '')
  if(wKolPodr = 1, 'подразделениям:'  , '')
  FiltPodrVal
.endfields
.[h OVERWRITE
.]h
 Р @@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Р
.}
.fields
  nPage
  GetKatOrgAttrName4Rep('UNN', 0, GetStateRef(ccRus))
.endfields
 Р                                                                                                                                                                     Лист  Д @@@@@ Д из _____ Р
 Ш┌────────────┬───────────┬───────────┬───────────┬─────────────────────┬──────────┬──────────┬──────────┬─────────────┬────────────────────────────────────────────────────────────────────────────────────────────────────────┐ Ш
 Ш│   Дата и   │  Номер и  │  Номер и  │  Номер и  │     Наименование    │@~@@@@@@@@│   КПП    │   Дата   │  Стоимость  │                                         В том числе                                                    │ Ш
 Ш│    номер   │    дата   │   дата    │   дата    │      покупателя     │покупателя│покупателя│  оплаты  │   продаж,   ├────────────────────────────────────────────────────────────────────────────────────────────┬───────────┤ Ш
 Ш│   счета-   │исправления│корректиро-│исправления│                     │          │          │  счета-  │   включая   │                         стоимость продаж, облагаемых налогом по ставке                     │ стоимость │ Ш
 Ш│   фактуры  │  счета-   │  вочного  │корректиро-│                     │          │          │ фактуры  │     НДС, -  ├──────────────────────────┬──────────────────────────┬───────────┬──────────────────────────┤  продаж,  │ Ш
 Ш│  продавца  │  фактуры  │  счета-   │  вочного  │                     │          │          │ продавца │    всего    │       18 процентов       │        10 процентов      │0 процентов│        20 процентов*     │освобождае-│ Ш
 Ш│            │ продавца  │  фактуры  │  счета-   │                     │          │          │          │             ├─────────────┬────────────┼─────────────┬────────────┤           ├─────────────┬────────────┤  мых от   │ Ш
 Ш│            │           │ продавца  │  фактуры  │                     │          │          │          │             │  стоимость  │    сумма   │  стоимость  │    сумма   │           │  стоимость  │    сумма   │  налога   │ Ш
 Ш│            │           │           │ продавца  │                     │          │          │          │             │  продаж без │     НДС    │  продаж без │     НДС    │           │  продаж без │     НДС    │           │ Ш
 Ш│            │           │           │           │                     │          │          │          │             │      НДС    │            │     НДС     │            │           │     НДС     │            │           │ Ш
 Ш├────────────┼───────────┼───────────┼───────────┼─────────────────────┼──────────┼──────────┼──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
 Ш│      1     │     1а    │    1б     │     1в    │          2          │     3    │     3а   │    3б    │      4      │      5а     │     5б     │      6а     │     6б     │     7     │      8а     │      8б    │     9     │ Ш
 Ш├────────────┼───────────┼───────────┼───────────┼─────────────────────┼──────────┼──────────┼──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
.begin
 ISumm1_18 := 0;
 ISumm2_18 := 0;
end.
.{
.{CheckEnter BkPrZkVal
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.end //if
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.if KatOrgGroup
.end
.if DesGrGroup
.end
.{CheckEnter BookZk
.}
.fields
 #DatNomSF(6)
 if(longint(DatRevSF)    = 0, '-', if (ZeroPrint, NomRevSF   , LTrim(NomRevSF   , '0')) + ' ' + DateToStr(DatRevSF   , 'DD/MM/YYYY'))
 if(longint(DatCorrV)    = 0, '-', if (ZeroPrint, NomCorrV   , LTrim(NomCorrV   , '0')) + ' ' + DateToStr(DatCorrV   , 'DD/MM/YYYY'))
 if(longint(DatRevCorrV) = 0, '-', if (ZeroPrint, NomRevCorrV, LTrim(NomRevCorrV, '0')) + ' ' + DateToStr(DatRevCorrV, 'DD/MM/YYYY'))
 KontrNameNazn
 KontrINN
 KontrKPP
 sSomeDateOplata

 SummA
 if (not isNDS20, Summ1, 0) if (not isNDS20, Summ2, 0)
 Summ4 Summ5 Summ9
 if (isNDS20, Summ1, 0) if (isNDS20, Summ2, 0)
 Summ7

 nPage
 LSA
 LS1_18
 LS2_18
 LS4 LS5 LS9
 LS1 - LS1_18
 LS2 - LS2_18
 LS7

 ISummA
 ISumm1_18
 ISumm2_18
 ISumm4 ISumm5 ISumm9
 ISumm1 - ISumm1_18
 ISumm2 - ISumm2_18
 ISumm7
 Signer
 SignerDover
.endfields
.begin
  if (not isNDS20)
  {
    ISumm1_18 += Summ1;
    ISumm2_18 += Summ2;
    LS1_18    += Summ1;
    LS2_18    += Summ2;
  }
end.
.begin
 LSA+=SummA;
 LS1+=Summ1;
 LS2+=Summ2;
 LS4+=Summ4;
 LS5+=Summ5;
 LS9+=Summ9;
 LS7+=Summ7;
end.
 Ш│@@@@@@@@@@@@│@@@@@@@@@@@│@@@@@@@@@@@│@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@│@~@@@@@@@@│@~@@@@@@@@│@~@@@@@@@@│&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Ш
.[f
 Ш└────────────┴───────────┴───────────┴───────────┼─────────────────────┴──────────┴──────────┴──────────┼─────────────┼─────────────┼────────────┼─────────────┼────────────┼───────────┼─────────────┼────────────┼───────────┤ Ш
 Ш                                                 │   Всего по листу № @@@@@@@                           │&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Ш
 Ш                                                 └──────────────────────────────────────────────────────┴─────────────┴─────────────┴────────────┴─────────────┴────────────┴───────────┴─────────────┴────────────┴───────────┘ Ш
.]f
.}
 Щ                                                 ┌──────────────────────────────────────────────────────┬─────────────┬─────────────┬────────────┬─────────────┬────────────┬───────────┬─────────────┬────────────┬───────────┐ Щ
 Щ                                                 │   Всего                                              │&'&&&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│&'#&&&&&&&.&&│&'#&&&&&&.&&│&'#&&&&&.&&│ Щ
 Щ                                                 └──────────────────────────────────────────────────────┴─────────────┴─────────────┴────────────┴─────────────┴────────────┴───────────┴─────────────┴────────────┴───────────┘ Щ

.}
.{CheckEnter BkPrZkAllVal
.}
.}
 И
     Руководитель организации или иное уполномоченное лицо   _________________________  Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д
                                                                     (подпись)                  (Ф.И.О.)
                                                                                       @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

     Индивидуальный предприниматель_____________ _____________________________________
                                    (подпись)                  (Ф.И.О.)
     Реквизиты свидетельства о государственной
     регистрации индивидуального предпринимателя _____________________________________

_____________________________________________________________________
 * До завершения расчетов по товарам (работам, услугам),  отгруженным
(выполненным, оказанным) до 1 января 2004 г. И
!
.begin
  SaveMyDsk(nPage + 1, 'o'+'bkprzkf_g_numPageBk');
end.
.endform
