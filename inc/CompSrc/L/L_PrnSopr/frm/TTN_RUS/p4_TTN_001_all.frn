.begin
  CountPoz := CountPoz + 1;

  MassaBrItog  += Round((МассаМЦ + МассаТарыМЦ) * КолУч / 1000, wRoundMass2) * 1000;
  MassaNetItog += Round( МассаМЦ                * КолУч / 1000, wRoundMass2) * 1000;
  АСтНацСН     +=
#ifdef _IN_VAL_DOC_
                  СтНакСН;
#else
                  СтНацСН0;
#end

  АСТНац2 += СтНац;

  if iStrname<=15
  {
    if (Length(strname[iStrname] + if (Название <> '', Название + ', ', '')) < 255)
      strname[iStrname]   += if (Название <> '', Название + ', ', '')
    else
    {
      strname[iStrname+1] += if (Название <> '', Название + ', ', '');
      iStrname++;
    }
  }

  if (bAutoGrM)
    CountKolF += if (ЕД_ИЗМЕРЕНИЯ_ГРУЗОВЫХ_МЕСТ = sGetTune('Doc.SD.AbbrField.Gruz'), 0, КОЛ_ГРУЗОВЫХ_МЕСТ)
  else
    CountKolF += if (КОЛ_ГРУЗОВЫХ_МЕСТ <> 0, КОЛ_ГРУЗОВЫХ_МЕСТ, if (ЕД_ИЗМЕРЕНИЯ_ГРУЗОВЫХ_МЕСТ = sGetTune('Doc.SD.AbbrField.Gruz'), 0, КолФ));
end.
