//******************************************************************************
//                                                      (c) корпорация Галактика
// Галактика 9.10 - Логистика
// Формирование учетной цены
//******************************************************************************
#ifNdef __SoprOrdB_vih__
#define __SoprOrdB_vih__

//******************************************************************************

#ifdef ComponentVersion
#component "L_SoprDoc"
#end

//******************************************************************************
#doc
  Функции для SoprOrdB сопроводительных документов
#end
//******************************************************************************

ObjInterface ObjSoprOrdB;


#doc
 Расчет суммы и кол-ва
 pInput - 0 - кол-во, 1 - сумма
#end
Function RecalcSoprOrdB(pSum, pSumV, pKol: double; pInput : word; cRecSoprOrdB, cRecSpSopr: comp) : boolean;

//******************************************************************************

#doc
 Установка значений полей по умолчанию для SoprOrdB
#end
Procedure DefaultSoprOrdB(cRecKatSopr : comp; RecSpSopr: type$SpSopr; var RecSoprOrdB: type$SoprOrdB);

//******************************************************************************

#doc
Назначение:
  Проверка корректности распределения по складам и установка
  цены себестоимости МЦ в накладной
Параметры:
  cKatSopr - KatSopr.nRec
  aSPodr   - ссылка на склад
  aSMol    - ссылка на МОЛ
  CheckMOL - false - не запрашивать МОЛ при его отсутствии
  isPacketMode - пакетный режим
  isFormProtPrice -  формировать протокол
  _AutoSetParty  - автоматическая установка партии для МЦ 0/1-default
  _ProtParty - вывод протокола формирования партий 0-default/1
#end
function CheckSoprOrdB(  cKatSopr : comp;
                         var aSPodr, aSMol: comp;
                         CheckMOL      // FALSE - не запрашивать МОЛ при его отсутствии
                       , isPacketMode
                       , IsSpSoprMarked
                       , isFormProtPrice : boolean;
                         _AutoSetParty // автоматическая установка партии для МЦ 0/1-default
                       , _ProtParty   : word
                      ): boolean;

//******************************************************************************
#doc
  Установка значений price
#end
procedure SetupSoprOrdBPriceValue(bnPrice: double; bnVPrice: double;
                                   nPrice: double;  nVPrice: double;
       aTekPodr: comp; var aCurPrice: double; var aCurVPrice: double);

//******************************************************************************
#doc
 Установка склада и МОЛ для позиции распределения
#end
function SoprOrdBSklMol(var setPodr  : comp;
                        var setmol   : comp;
                        var molch    : boolean;
                            CheckMOL : boolean;
                            __MC     : comp): boolean;



//******************************************************************************
end;

  VipInterface iSoprOrdB implements ObjSoprOrdB
     Licensed (FREE);

#end // __SoprOrdB_vih__
//******************************************************************************
