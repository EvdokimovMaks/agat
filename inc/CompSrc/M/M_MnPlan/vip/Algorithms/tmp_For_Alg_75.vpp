// =============================================================================
//                                                    (c)  корпорация Галактика
// Галактика 8.0 - Производственный контур
// Набор структур и временная таблица для 75 алгоритма
// =============================================================================

#ifndef __TMP_FOR_ALG75_VPP
#define __TMP_FOR_ALG75_VPP


//#ifdef FOR_ALG74

//------------------------------------------------------------------------------
// поля шапки документа
type THeadRecord = record
      cMnPlan      : comp;   // Mnplan.Nrec
      KolFields    : word;   // количество отображаемых полей в спецификации до этих 14
      MemVidSysNum : word;   // системный номер представления
      Number       : string; //номер документа
      StatemDate   : date;   //дата
      Status       : string; //статус документа
      UtvDate      : date;   //дата утверждения
      Name         : string; //Наименование
      GrName       : string; //группа документов
      StartDate    : date;   //дата начала
      EndDate      : date;   //дата окончания
      AnField1     : string; //наименование поля аналитики1
      AnValue1     : string; //значение поля аналитики1
      AnField2     : string; //наименование поля аналитики2
      AnValue2     : string; //значение поля аналитики2
      AnField3     : string; //наименование поля аналитики3
      AnValue3     : string; //значение поля аналитики3
      AnField4     : string; //наименование поля аналитики4
      AnValue4     : string; //значение поля аналитики4
      AnField5     : string; //наименование поля аналитики5
      AnValue5     : string; //значение поля аналитики5
      TableChanged : boolean; //менялась ли таблица
    end;

//------------------------------------------------------------------------------
// наименования полей спецификации
type TSpFieldRecord = record
      NumberName       : string;
      TipName          : string;
      NameName         : string;
      KodName          : string;
      OboznachName     : string;
      EdIzmerName      : string;
      StatusName       : string;
      StartDateName    : string;
      EndDateName      : string;
      StateName        : string;
      PriznProdName    : string;
      FieldAnal1Name   : string;
      FieldAnal2Name   : string;
      FieldAnal3Name   : string;
      PriznProdVName   : string;
      PriorityName     : string;
      EdIzmTrudName    : string;
      RazradName       : string;
      KodTarifaName    : string;
      SistemaOplName   : string;
      StartDateFName   : string;
      EndDateFactName  : string;
      VidField1Name    : string;
      VidField2Name    : string;
      VidField3Name    : string;
      VidField4Name    : string;
      Tip         : boolean;     //тип
      Name        : boolean;     //наименование
      Kod         : boolean;     //код
      Oboznach    : boolean;     //обозначение
      EdIzmer     : boolean;     //единица измерения
      Status      : boolean;     //статус
      StartDate   : boolean;     //дата начала
      EndDate     : boolean;     //дата окончания
      State       : boolean;     //состояние
      PriznProd   : boolean;     //признак продукта
      FieldAnal1  : string;     //дополнительная аналитика 1
      FieldAnal2  : string;     //дополнительная аналитика 2
      FieldAnal3  : string;     //дополнительная аналитика 3
      PriznProdV  : boolean;     //признак продукта выхода
      Priority    : boolean;     //приоритет
      EdIzmTrud   : boolean;     //единица измерения трудоемкости
      Razrad      : boolean;     //разряд
      KodTarifa   : boolean;     //код тарифа
      SistemaOpl  : boolean;     //система оплаты
      StartDateF  : boolean;     //дата начала фактическая
      EndDateFact : boolean;     //дата окончания фактическая
      KolVidFields: word;     //количество ролей представления
      VidField1   : string;     //роль представления 1
      VidField2   : string;     //роль представления 2
      VidField3   : string;     //роль представления 3
      VidField4   : string;     //роль представления 4

      sFormatSumRub : string;
      sFormatSumVal : string;
      sFormatKol    : string;

      Field1Type  : word;
      FieldAccess1: boolean;
      Field1      : string;     //поле 1

      Field2Type  : word;
      FieldAccess2: boolean;
      Field2      : string;     //поле 2

      Field3Type  : word;
      FieldAccess3: boolean;
      Field3      : string;     //поле 3

      Field4Type  : word;
      FieldAccess4: boolean;
      Field4      : string;     //поле 4

      Field5Type  : word;
      FieldAccess5: boolean;
      Field5      : string;     //поле 5

      Field6Type  : word;
      FieldAccess6: boolean;
      Field6      : string;     //поле 6

      Field7Type  : word;
      FieldAccess7: boolean;
      Field7      : string;     //поле 7

      Field8Type  : word;
      FieldAccess8: boolean;
      Field8      : string;     //поле 8

      Field9Type  : word;
      FieldAccess9: boolean;
      Field9      : string;     //поле 9

      Field10Type  : word;
      FieldAccess10: boolean;
      Field10      : string;     //поле 10

      Field11Type  : word;
      FieldAccess11: boolean;
      Field11      : string;     //поле 11

      Field12Type  : word;
      FieldAccess12: boolean;
      Field12      : string;     //поле 12

      Field13Type  : word;
      FieldAccess13: boolean;
      Field13      : string;     //поле 13

      Field14Type  : word;
      FieldAccess14: boolean;
      Field14      : string;     //поле 14
end;

//------------------------------------------------------------------------------
// спецификация
table struct SpTable
(
  Nrec      : comp,
  cSpMnPl   : comp,
  Number    : string,
  TypeIzd   : string,
  Name      : string,
  Kod       : string,
  Oboznach  : string,
  EdIzm     : string,
  Status    : string,
  StartDate : date,
  EndDate   : date,
  State     : string,
  PriznProd : string,
  FieldAnal1: string,
  FieldAnal2: string,
  FieldAnal3: string,
  PriznProdV: string,
  Priority  : string,
  EdIzmTrud : string,
  Razrad    : string,
  KodTarifa : string,
  SistemaOpl: string,
  StartDateF: date,
  EndDateF  : date,
  VidField1 : string,     //роль представления 1
  VidField2 : string,     //роль представления 2
  VidField3 : string,     //роль представления 3
  VidField4 : string,     //роль представления 4
  Changed   : boolean,    //редактировалась ли запись
  Changed1  : boolean,    // редактировалось ли содержимое поля 1
  Field1    : double,     //поле 1
  Changed2  : boolean,    // редактировалось ли содержимое поля 2
  Field2    : double,     //поле 2
  Changed3  : boolean,    // редактировалось ли содержимое поля 3
  Field3    : double,     //поле 3
  Changed4  : boolean,    // редактировалось ли содержимое поля 4
  Field4    : double,     //поле 4
  Changed5  : boolean,    // редактировалось ли содержимое поля 5
  Field5    : double,     //поле 5
  Changed6  : boolean,    // редактировалось ли содержимое поля 6
  Field6    : double,     //поле 6
  Changed7  : boolean,    // редактировалось ли содержимое поля 7
  Field7    : double,     //поле 7
  Changed8  : boolean,    // редактировалось ли содержимое поля 8
  Field8    : double,     //поле 8
  Changed9  : boolean,    // редактировалось ли содержимое поля 9
  Field9    : double,     //поле 9
  Changed10  : boolean,   // редактировалось ли содержимое поля 10
  Field10   : double,     //поле 10
  Changed11  : boolean,   // редактировалось ли содержимое поля 11
  Field11   : double,     //поле 11
  Changed12  : boolean,   // редактировалось ли содержимое поля 12
  Field12   : double,     //поле 12
  Changed13  : boolean,   // редактировалось ли содержимое поля 13
  Field13   : double,     //поле 13
  Changed14  : boolean,   // редактировалось ли содержимое поля 14
  Field14   : double      //поле 14
)

with Index
(
 tmSpTable00  =  Nrec(Unique, Surrogate)
// tmSpTable01  =  cSpMnPl,
// tmClMrp01  =  num + CloneMain +  cloneIzd + cloneS + wKodGr1 + cAnVal1 + wKodGr2 + cAnVal2 + wKodGr3 + cAnVal3 + wKodGr4 + cAnVal4,
// tmClMrp02  =  num + wTypeS + cNrecS + ZIKL + Product
);


#EndIf
