//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 7.1 - Контроллинг
// ТП для расчета цен согласно источников цен
//------------------------------------------------------------------------------

// для формируемых по связанным МЦ цен
table struct tpAverSale_MC
(
  nRec         : comp,
  cMC          : comp,   // ссылка на МЦ
  cPodr        : comp,   // ссылка на Подразделение
  cEdIzm       : comp,   // ссылка на ЕИ
  dCount       : double, // количество связанной МЦ
  dSumm        : double  // сумма из связанной МЦ
)
with index
(
 tpAverSale_MC01 = nRec (Unique, Surrogate),
 tpAverSale_MC02 = cMC + cPodr
)
;

table struct tpAverSale_Con_MC
(
  nRec          : comp,
  tpAverSale_MC : comp,   // ссылка на tpAverSale_MC
  cMC_Agr       : comp,
  cPodr_Agr     : comp,
  cMC           : comp,
  cPodr         : comp,
  cEdIzm        : comp,
  dCount        : double,
  dSumm         : double
)
with index
(
 tpAverSale_Con_MC01 = nRec (Unique, Surrogate),
 tpAverSale_Con_MC02 = cMC + cEdIzm,
 tpAverSale_Con_MC03 = cMC_Agr,
 tpAverSale_Con_MC04 = tpAverSale_MC,
 tpAverSale_Con_MC05 = cMC + cPodr
)
;
