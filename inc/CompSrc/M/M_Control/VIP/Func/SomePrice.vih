//********************************************************************************
//                                                        (c) корпорация Галактика
// Галактика 7.12
// Множественный выбор цен
//********************************************************************************

#ifdef ComponentVersion
#component "M_Control"
#end

#doc
 Описание интерфейса "Функция множественного выбора цен из указанного варианта цен"
#end

ObjInterface oSomePrice;

#doc
Выбор цен из указанного варианта цен c_ResPrice

Параметры:
 c_ResPrice     - выбор цен из указанного варианта цен
 
 w_Podr, c_Podr - поставщик
 по заданному поставщику w_Podr + c_Podr
  если w_Podr <> 0 and c_Podr <> 0, то по конкретному поставщику; w_AllorEqual-игнори
  если w_Podr = 2 and c_Podr = 0, то w_AllorEqual=0  по всем подразделениям
                                     w_AllorEqual=1  по предприятию в целом
  если w_Podr = 1 and c_Podr = 0, то w_AllorEqual=0  по всем организациям
                                     w_AllorEqual=1  по организациям в целом
  если w_Podr = 0 and c_Podr = 0, то w_AllorEqual=0  абсолютно все цены
                                     w_AllorEqual=1  в целом по изготовителю
 
 w_AllorEqual   - признак поставщиков
 w_Res, c_Res   - по ресурсу или по всем
 c_Party        - с учетом партии
   по заданному ресурсу w_Res + c_Res + c_Party(если = 0, то по всем ресурсам)
действущих в этом периоде c_Period

 c_Period       - действущих в этом периоде
    если период не задан, то действущих на дату d_Date
 d_Date         - действущих на дату
 w_Ed           - на какую ЕИ(0-активн.отп;1-произв;2-учетн)
 c_Valut        - возвращать в валюте (или 0 = НДЕ)
 d_Valut        - курс валюты на данную дату
 w_Valut        - в валюте или в НДЕ, 1 - в хранимой

 wAther         - поиск в ОБЩЕМ ценнике, поиск цены с учетом партии
                  На входе:      
                   0-й бит = 0 - при отсутствии цены в заданном ценнике не осуществлять поиск в общих ценниках
                             1 - при отсутствии цены в заданном ценнике осуществлять поиск в общих ценниках
                   1-й бит = 0 - поиск цены с учетом партии (совпадением)
                             1 - при отсутствии цены для ресурса без партии брать цену этого ресурса
                                 с единственной партией (случай фиктивной партии = дате цены)
#end

Function  fSomePrice ( c_ResPrice : comp;
                       w_Podr : word; c_Podr : comp;
                       w_AllorEqual : word;
                       w_Res  : word; c_Res  : comp;
                       c_Party  : comp;
                       c_Period : comp;
                       d_Date   : date;
                       w_Ed     : word;
                       c_Valut  : comp;
                       d_Valut  : date;
                       w_Valut  : word;
                       wAther   : word
                      ): boolean;
end;

VipInterface iSomePrice implements oSomePrice
#ifdef ATL51
Licensed (FREE)
#end
;
