/*
 ╔═════════════════════════════════════════════════════════════════════════╗
 ║                     (c) 2001 корпорация ГАЛАКТИКА                       ║
 ║ Проект        : ГАЛАКТИКА                                               ║
 ║ Система       : Контроллинг                                             ║
 ║ Версия        : 7.1                                                     ║
 ║ Назначение    : Ф-ции для работы с производственными отчетами           ║
 ║ Ответственный : Медведь Наталья Леонидовна (Medved)                     ║
 ║ Параметры     : нет                                                     ║
 ╚═════════════════════════════════════════════════════════════════════════╝
*/

#ifdef ComponentVersion
#component "M_Control"
#end

ObjInterface oFuncRepHead;
  Procedure DelRepHead(cRepHead : comp);
  Procedure DelRepHeadNew(cRepHead : comp;     //Rephead.nRec
                          boDelHead: boolean); //признак удаления текущей записи RepHead
  Procedure ClearRepHead(cRepHead : comp);
  procedure pSetPriceProd(cRepHead: comp; IsSetWaste: boolean; boSetPriceManuf: boolean);
  procedure pCalcSumCostandProd(cRepMove: comp);
  //для лок.меню Пересчитать фактические цены ресурсов в ПО
  procedure pCalcFactPriceRes(cRepHead: comp; wMessOut: word);
  //пересчет цены продукта при изменении расхода ресурса (в RepCost)
  procedure pCalcFactPriceProd(cRepProd: comp);
  //добавление ресурсов(RepMove) из ПО_1 в ПО_2
  Procedure pSearchAndAddEndSaldo(cOldRepHead: comp; cNewRepHead: comp);
  //просмотр первичных документов
  Procedure pViewSpSopr(cRepHead: comp; wTbl_RepHead: word; cTbl_RepHead: comp);
  //процедура вставки новой записи в SpAllCon
  Procedure pInsSpAllConfromPO(wBazTbl_: word; //coRepHead
                               cBazTbl_: comp; //RepHead.nRec
                               wObj_   : word; //coRepMove, coRepLink и т.д.
                               cObj_   : comp; //RepMove.nRec, RepLink.nRec и т.д.
                               cObjNew : comp  //RepMoveNew.nRec, RepLinkNew.nRec
                              );
  //процедура удаления записей SpAllCon
  Procedure pDelSpAllConfromPO(wBazTbl_: word;
                               cBazTbl_: comp;
                               wObj_   : word;
                               cObj_   : comp);

  //процедура провеки корректности данных в ПО
  function fProvCorrPO(wPr_PO: word): boolean;

  //процедура пересчета расхода ресурсов в ПО/ПБ
  Procedure pRecalcRepCostInDoc(ccRecRepMove: comp);

end;

VipInterface iFuncRepHead implements oFuncRepHead #Licensed_Free;