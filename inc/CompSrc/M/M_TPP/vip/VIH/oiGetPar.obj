//******************************************************************************
//                                                      (c) корпорация ГАЛАКТИКА
// ГАЛАКТИКА 7.1 Производственный контур/Спецификации продуктов
// объектный интерфейс получения значений параметров для записи TmpPotr  
//******************************************************************************


#ifndef __OIGETPAR_VIH
#define __OIGETPAR_VIH

#ifdef ComponentVersion
#component "M_TPP"
#end

ObjInterface oiGetPar; forward;

#include oiGetVal.vih

type
  rObjInfo = record
               wVal$1, // код тарифа                                     (трудовые)
               wVal$2, // код системы оплаты                             (трудовые)
               wVal$3, // тарифный разряд                                (трудовые)
               wVal$4, // код ед. времени  см. INC\TPPConst.inc          (трудовые, оборудование)
               wVal$5, // код условий труда                              (трудовые)
               wVal$6, // тип документа след. уровня                     (материальные)
               wVal$7, wVal$8, wVal$9, wVal$10: word;
               cVal$1, // статья затрат                                  (все)
               cVal$2, // ссылка на документ след. уровня                (материальные)
               cVal$3, // ссылка на тариф, по которому считали деньги    (трудовые)
                       // если не было расценки в маршруте
               cVal$4, cVal$5, cVal$6, cVal$7, cVal$8,
               cVal$9, cVal$10: comp;
               dVal$1, // процент потерь материала                       (материальные)
                       // потребность в часах.                           (оборудование)
                       // трудоемкость в человеко-часах.                 (трудовые)
                       // кол-во инструментов с учетом износа            (инструмент)
               dVal$2, // расчетные деньги                               (трудовые)
                       // кол-во операций до износа                      (инструмент)
               dVal$3, // коэф. использования материала                  (материальные)
                       // потребность в единицах времени нормы           (оборудование)
                       // трудоемкость в человеко-единицах времени нормы (трудовые)
               dVal$4, // расценка для повременной - за час,             (трудовые)
                       //          для сдельной    - за единицу изделия в расчетных ед. измерения (трудовые)
               dVal$5, // множитель расценки                             (трудовые)
               dVal$6, // надбавка за операцию                           (трудовые)
               dVal$7, // кол-во партий (операций)                       (трудовые, оборудование, инструмент)
               dVal$8, // исходное значение нормы времени                (трудовые, оборудование)
               dVal$9, // расценка единицы нормирования                  (трудовые)
              dVal$10  // исходное значение нормы п.-з. времени          (трудовые, оборудование)
                     : double;
               sVal$1: string; // тарифный разряд                        (трудовые)
             end;

#doc
объектный интерфейс получения значений параметров для записи TmpPotr</brief>
#end
ObjInterface oiGetPar;

#doc
устанавливает структуру TmpPotr с исходными данными</brief>
#end
  procedure SetWorkOwner(rBuffer: type$p_TmpPotr);

#doc
устанавливает запись TmpPotr с nRec <I>cKey</I></brief>
#end
  function SetWorkOwnerKey(cKey: comp): longint;

#doc
устанавливает дату расчетов</brief>
#end
  procedure SetWorkDate(onDate: date);
//******************************************************************************

#doc
получить значения параметров (исходные данные уже должны быть установлены)</brief>
#end
  function GetInfo: rObjInfo;

#doc
установить исходные данные и получить значения параметров</brief>
#end
  function GetInfoOwner(rBuffer: type$p_TmpPotr): rObjInfo;

#doc
получить значения параметров, став на запись TmpPotr с nRec <I>cKey</I></brief>
#end
  function GetInfoOwnerKey(cKey: comp): rObjInfo;

#ifdef GAL7_11
//******************************************************************************
//  property MemOn: boolean;
#doc
получить режим открытия таблицы TmpPotr</brief>
#end
  function GetMemOn: boolean;
#doc
изменить режим открытия таблицы TmpPotr</brief>
#end
  function SetMemOn(_bVal: boolean; _bAct: boolean): integer;
#end

end; // oiGetPar

#endif  // __OIGETPAR_VIH