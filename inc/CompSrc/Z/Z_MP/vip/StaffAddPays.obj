//******************************************************************************
//                                                      (с) корпорация Галактика
// Галактика 7.12 - Заработная плата
// Объектные интерфейсы браузера кадровских доплат и итератора по ним
//******************************************************************************

#ifndef _STAFFADDPAYS_OBJ_INCLUDED_
#define _STAFFADDPAYS_OBJ_INCLUDED_

#ifdef ComponentVersion
#component "z_mp"
#end

#doc
  Объектный интерфейс браузера кадровских доплат. </brief>

  <p>Доплаты идентифицируются кодом владельца и ссылкой на
  запись-владельца.</p>
#end
objinterface IStaffAddPays;
  #doc
    Устанавливает режим редактирования (Value = true) или просмотра (Value =
    false).
  #end
  procedure SetEditMode(Value: boolean);

  #doc
    Настраивает браузер на просмотр доплат.
  #end
  procedure LinkTo(AOwnerCode: word; AOwnerRecordNumber: comp);

  #doc
    Копирует доплаты (предусмотрена возможность изменения их типа).
  #end
  procedure Copy(SrcOwnerCode: word; SrcOwnerRec: comp; DstOwnerCode: word; DstOwnerRec: comp);

  #doc
    Удаляет все принадлежащие данному владельцу доплаты.
  #end
  procedure Del(AOwnerCode: word; AOwnerRecordNumber: comp);

  #doc
    Перерисовывает содержимое браузера.
  #end
  procedure ReDraw;

  #doc
    Обновляет и перерисовывает содержимое браузера.
  #end
  procedure ReRead;

  #doc
    Возникает после обновления, удаления, обновления записи/группы записей.
  #end
  event procedure OnListChanged;
end;


//******************************************************************************
//
//******************************************************************************
objinterface IStaffAddPaysIterator;
  #doc
    Устанавливает указатель на первую по списку доплату. Возвращает true в
    случае успешного завершения.</brief>

    <p>В список попадут только те доплаты, период действия которых пересекается
    с заданным диапазоном.</p>
  #end
  function First(OwnerCode: word; OwnerRecordNumber: comp; Beginning: date; Ending: date): boolean;

  #doc
    Возвращает уникальный идентификатор текущей доплаты.
  #end
  function GetId: comp;

  #doc
    Возвращает идентификатор группы текущей доплаты.
  #end
  function GetGroupId: comp;

  #doc
    Возвращает ссылку на вид текущей доплаты.
  #end
  function GetPaymentKind: comp;

  #doc
    Возвращает тип текущей доплаты.
  #end
  function GetType: byte;

  #doc
    Возвращает процент текущей доплаты.
  #end
  function GetPercent: double;

  #doc
    Возвращает сумму текущей доплаты.
  #end
  function GetSum: double;

  #doc
    Возвращает ссылку на валюту текущей доплаты.
  #end
  function GetCurrency: comp;

  #doc
    Возвращает дату начала текущей доплаты с учетом заданного диапазона.
  #end
  function GetBeginning: date;

  #doc
    Возвращает дату окончания текущей доплаты с учетом заданного диапазона.
  #end
  function GetEnding: date;

  #doc
    Устанавливает указатель на следующую по списку доплату. Возвращает true в
    случае успешного завершения.
  #end
  function Next: boolean;
end;

#end
