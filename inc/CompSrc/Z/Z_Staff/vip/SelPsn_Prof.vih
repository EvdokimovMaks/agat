//******************************************************************************
//                                                      (с) корпорация Галактика
// Галактика 8.10 - Управление персоналом
// Декларация методов для выбора сотрудников согласно установленному фильтру по:
//  - подразделению
//  - основной профессии
//  - смежной профессии
//******************************************************************************

#ifndef _SelPsn_Prof_INCLUDED_
#define _SelPsn_Prof_INCLUDED_


#ifdef ComponentVersion
  #component "z_Staff"
#end

table struct tblFilteredPersons
(
  nRec     : comp,
  FIO      : s60,
  TabN     : string,
  sBaseProf: string
)
with index
(
  byNrec = Nrec,
  byFIO  = FIO,
  byTabN = TabN
);

#doc
Объект для получения списка сотрудников, отфильтрованных по подразделению,
основной и смежной профессии
#end
objinterface ISelPsn_Prof;

// *****************************************************************************
#doc
Процедура инициализации начальных данных. </br>
 Параметры: </br>
  cDept   - NRec подразделения для фильтра (подразделение из KatPodr) </br>
  cBProf  - NRec основной профессии для фильтра </br>
  wParFlt - что анализировать: даннные из переданных переменных или из маркера </br>
  dVDate  - дата, для анализа окончания действия смежной профессии </br>
#end
procedure InitializeVariables(cDept, cBProf: comp; wParFlt: word; dVDate: date);
// *****************************************************************************
#doc
Процедура набивки данных во временную таблицу согласно установленным фильтрам
#end
procedure FillTmpTable(bFromInterface: boolean);
// *****************************************************************************
end;

vipinterface SelPsn_Prof
  implements ISelPsn_Prof
    Licensed (free)
      parameters (cFilter_Department
                   , cFilter_BasicProf: comp
                   ; wWhatFiltered: word
                   ; dViewDate: date)
;

#end
