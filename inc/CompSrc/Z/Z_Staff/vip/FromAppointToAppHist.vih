//******************************************************************************
//                                                      (с) корпорация Галактика
//  Галактика 8.1 - Управление персоналом
//  Объектный интерфейс модификации истории назначения относительно самого назначения
//******************************************************************************
#ifndef _FromAppointToAppHist_INCLUDED_
#define _FromAppointToAppHist_INCLUDED_

#ifdef ComponentVersion
#component "z_Staff"
#end

#doc
  Объектный интерфейс модификации истории назначения относительно самого назначения
#end
objinterface IFromAppointToAppHist;

#doc
Создание первой записи истории для нового назначения.
Возвращаем нРек модифицируемой записи
#end
Function NewHist(NrecAppoint: comp): comp;

#doc
Создание записи истории для конкретного РПД.
Возвращаем нРек модифицируемой записи
#end
Function InsertNextHist(NrecAppoint: comp; TypeOper: word; daRec: date): comp;

#doc
Безусловный апдейт последней (текущей) записи истории конкретного назначения.
Возвращаем нРек модифицируемой записи
#end
Function UpdLastHist(NrecAppoint: comp): comp;

#doc
Безусловный апдейт записи истории NRecAppHist конкретного назначения NrecAppoint.
Предполагаем сразу же, что они связаны. Проверять не будем.
#end
Function UpdNeedHist(NrecAppoint: comp; NRecAppHist: comp; wStat: word): comp;

end;

objinterface IFromAppointToAppHist1;
#doc
Корректировка дат завершения в истории по дате завершения назначения
#end
Function CorrDatEndHist(NrecAppoint: comp; OldDate: date; cPers: comp): boolean;
#doc
Создание записи истории с типом и без информации о приказе.
Возвращаем нРек модифицируемой записи
#end
Function InsNextHistNoOrd(NrecAppoint: comp; TypeOper: word; daRec: date): comp;
end;

vipinterface FromAppointToAppHist implements IFromAppointToAppHist,IFromAppointToAppHist1
  Licensed (free);

#end
