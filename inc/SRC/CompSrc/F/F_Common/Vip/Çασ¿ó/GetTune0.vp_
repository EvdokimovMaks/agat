//------------------------------------------------------------------------------
// !!! Не использовать в новых разработках,
// см. PSManager.vih
// см. GetUserFilterDate.vpp
// см. GetCurTunes.vpp
//   а также см. комментарии по тексту
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
function GetUserTuneParam : boolean;
{
  GetUserTuneParam := false;
  //----------------------------------------------------------------------------
  // Установку этого см. GetCurTunes.vpp
  CurDescr   := sGetTune('User.Descr');
  CurDesGr   := sGetTune('User.DesGr');
  CurVisible := wGetTune('Doc.Visible');
  //----------------------------------------------------------------------------
  // Установку плана счетов - см. PSManager.vih
  myPlansNo  := coGetTune('Fin.User.cPlansSch');
  if (myPlansNo = 0)
    myPlansNo := coGetTune('Konsolid.cPlansSch');
  if (myPlansNo = 0) {
    message('Установите текущий план счетов в настройке системы!',CancelButton);
    Exit;
  }
  else
    if (GetFirst PlansSch where ((myPlansNo == PlansSch.NRec)) <> tsOk)
    {
      Message('Утеряна настройка планов счетов!'#13 +
              'Проведите настройку!'#13 +
              'Установите текущий план счетов!',CancelButton);
      Exit;
    }
  //----------------------------------------------------------------------------
  myRec            := 0;
  OkUserDate       := false;
  ModOborot        := false;
  dFormNa          := 0;
  BegDate          := 0;
  EndDate          := 0;
  TecNameFilter    := '';
  IntDatFil        := 0;
  CurProcProtect   := 0;
  AllPick          := 0;
  //----------------------------------------------------------------------------
  GetUserTuneParam := true;
}
//------------------------------------------------------------------------------
#include GetTune3.vpp
//------------------------------------------------------------------------------
