/*
 ╔═══════════════════════════════════════════════════════════════════════════╗
 ║                     (c) 2002 корпорация ГАЛАКТИКА                         ║
 ║ Проект        : ГАЛАКТИКА                                                 ║
 ║ Система       : Контроллинг                                               ║
 ║ Версия        : 7.1                                                       ║
 ║ Назначение    : Структура данных из импортируемых ПО (ТВЭЛ)               ║
 ║ Ответственный : Деренчук И. (Ivand)                                       ║
 ╚═══════════════════════════════════════════════════════════════════════════╝
*/

#ifdef ComponentVersion
#component ""
#end

Table Struct tpRepHead
  (
  Nrec         : tNRec,
  cKatOrg      : tNRec,   // Ссылка на организацию
  dBeg         : date,    //  с даты
  dEnd         : date     //  по дату
  )
with Index
  (
  tpRepHead01 = Nrec(Unique, Surrogate),
  tpRepHead02 = cKatOrg + dBeg + dEnd,
  tpRepHead03 = dBeg + dEnd
  );

Table Struct tpRepMove
  (
  Nrec          : tNRec,
  ctpRepHead    : tNRec,   // Ссылка на запись в таблице tpRepHead
  cRes          : tNRec,   // МЦ
  cEd           : tNRec,   // единицу измерения
  BegSaldo      : Double,  // вх. остаток  ДС или продукции
  BegSaldoInNzp : Double,  // вх. остаток  ДС или продукции в НЗП
  InCom         : Double,  // поставка ДС
  PotrCom       : Double,  // загружено в производство
  SpisCom       : Double,  // списано на продукцию
  PrSpisCom     : Double,  // потери из числа списанных
  WasteCom      : Double,  // отходы из числа списанных
  ProdCom       : Double,  // произведено продукции
  SentCom       : Double,  // передано на склад ТВЭЛ
  EndSaldo      : Double,  // исх. остаток  ДС или продукции
  EndSaldoInNzp : Double,  // исх. остаток  ДС или продукции в НЗП
  cPotreb       : tNRec    // потребитель
  )
with Index
  (
  tpRepMove01 = Nrec(Unique, Surrogate),
  tpRepMove02 = ctpRepHead  + cRes + cPotreb,
  tpRepMove03 = cRes + cPotreb
  );