//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 7.1 - Контроллинг
// Структура разузлованных данных в ТП tp_tmpPotr
//------------------------------------------------------------------------------

#ifdef ComponentVersion
#Component ""
#end

Table struct tp_tmpPotr  // таблица заменитель tmpPotr
(
 Nrec        : comp,
 tOwner      : word,
 cOwner      : comp,
 tResource   : word,
 cResource   : comp,
 Rasx        : double,
 wLevel      : Integer,
 tDep        : word,
 cDep        : tnRec,
 Kind        : word,
 cStZatr     : comp,
 cEd         : comp,
// поля для выхода на объекты нормирования 
 tSrcRec     : word,
 cSrcRec     : comp,
 tObject     : word,
 cObject     : comp,
 tDoc        : word,
 cDoc        : comp,
 NormSort    : word,
 Product     : word,
 PrOut       : word,
 OnQnt       : double,
 dSumMn      : double,
 InEd        : comp
)
With Index
(
 tp_tmpPotr01 = Nrec(Unique, Surrogate),
 tp_tmpPotr02 = tOwner + cOwner,
 tp_tmpPotr03 = wLevel,
 tp_tmpPotr04 = tDep + cDep + wLevel,
 tp_tmpPotr05 = tResource + cResource,
 tp_tmpPotr06 = cSrcRec
);

Table struct tp_ProtocolNorm  // протоколирование хода разузлования
(
 wNpp   : word,
 wProd  : word,
 cProd  : comp,
 wInorm : word, //тип источника норм (для wWhat = ErrCikl)
 cInorm : comp, //    источник  норм
 wWhat  : word
)
With Index
(
 tp_ProtocolNorm01 = wProd + cProd + wWhat,
 tp_ProtocolNorm02 = wNpp
)
;

Table struct tp_Cikl  // протоколирование случаев зацикливания
(
 wNpp   : word,
 wProd  : word,
 cProd  : comp
)
With Index
(
 tp_Cikl01 = wProd + cProd,
 tp_Cikl02 = wNpp
)
;
