//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 7.12-8.10 - Производственный контур
// Структуры для работы с объектом oGetRsvOperView
//------------------------------------------------------------------------------
//'by Aleksis

//------------------------------------------------------------------------------
//                               'Входные структуры'
//------------------------------------------------------------------------------
//'структура для передачи в объект параметров расчета
Type GetRsvOperView = Record
 wView : Word;  //'разрез просмотра
                 //'1 - МЦ
                 //'2 - МЦ + Подразделение
                 //'3 - МЦ + Партия
                 //'4 - МЦ + Подразделение + Партия

 wShowFieldsKol : Word;  //'показывать (рассчитать) поля количеств
                          //'1    - планируемый запуск
                          //'2    - планируемый выпуск
                          //'4    - фактичекский запуск
                          //'8    - количество НЗП
                          //'16   - фактический выпуск
                          //'32   - текущее наличие
                          //'64   - количество брака
                          //'128  - количество планируемого брака
                          //'256  - переданное количество
                          //'512  - утвержденный плановый запуск
                          //'1024 - утвержденный плановый выпуск

 wPartyMethod : Word;  //'способ выбора партии:
                        //'1 - из привязанных позиций ЖР

 wPodrMethod : Word;  //'способ выбора подразделения:
                       //'1 - брать из привязанных к документам-источникам
                       //' позиций ЖР
                       //'2 - фиксированное значение

 cPodr : Comp;  //'ссылка на подразделение при wPodrMethod=2

 dBegin : Date;  //'дата начала
 dEnd : Date;  //'дата окончания

 cVariaPl : Comp;  //'ссылка на вариант
End;

//'сразу заводим глобальную переменную по этому типу
Var stGetRsvOperView : GetRsvOperView;

//'Таблица для передачи в объект списка МЦ для обработки
Table Struct iGROView_InputMC
(
 cMC : tNRec
)
With Index
(
 iGROView_InputMC_01 = cMC
);

//------------------------------------------------------------------------------
//                               'Выходные структуры'
//------------------------------------------------------------------------------
// таблица с выходными количествами по разрезам

Table Struct TblWithRazrez
(
  NRec      : Comp,
  cMc       : Comp,
  cPodr     : Comp,
  cParty    : Comp,
  PlanZap   : Double,
  PlanZapDl : Double,
  PlanVip   : Double,
  PlanVipDl : Double,
  FactZap   : Double,
  FactZapDl : Double,
  FactVip   : Double,
  FactVipDl : Double,
  NZP       : Double,
  NZPDl     : Double,
  TekNal    : Double,
  TekNalDl  : Double,
  Brak      : Double,
  BrakDl    : Double,
  Accept    : Double,
  AcceptDl  : Double,
  UtvZap    : Double,
  UtvZapDl  : Double,
  UtvVip    : Double,
  UtvVipDl  : Double,
  PlanBrak  : Double,
  PlanBrakDl: Double,
  PrepZap   : Double,
  PrepZapDl : Double
)
With Index
(
  TblWithRazrez01 = NRec(Unique, Surrogate),
  TblWithRazrez02 = cMc
)
;

