//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 8.0 - Бухгалтерский контур
// Интерфейс типовых алгоритмов и констант  Для конкретных форм
//------------------------------------------------------------------------------

#ifndef __eTaxDefs__vih__
#define __eTaxDefs__vih__

#ifdef ComponentVersion
#Component "F_PAT"
#end

#include MasterAllIdent.vih


Table Struct ImnsDefs
(
  NRec    : tNRec    "Номер записи"
, Key     : tKey     "Ключ константы"
, Name    : s80      "Имя константы"
, Formula : tExpr    "Формула вычисления константы"
, Comment : s200     "Комментарий к константе"
, cOwner  : tNRec    "Ссылка на родителя"
, IsLeaf  : boolean  "Признак листа"
)
With Index
(
  ImnsDefs01  =  NRec(Unique, Surrogate)
, ImnsDefs02  =  cOwner + Name
, ImnsDefs03  =  cOwner + Key
, ImnsDefs04  =  Key(Unique)
, ImnsDefs05  =  Name
);

ObjInterface ObjTaxDefs;

  #doc
  Запустить интерфейс редактирования
  #end
  Procedure RunTaxDefs;

  #doc
  Получить значение константы на форме
  #end
  function GetTaxDefByKey(DefKey:string):string;

  #doc
  Установить значение константы на форме
    DefKey   - "Ключ константы"
    keyName  - "Имя константы"
    kFormula - "Формула вычисления константы"
    kCOm     - "Комментарий к константе"
  #end
  function SetTaxDefKey(DefKey  :string;
                         kName   :string;
                         kFormula:string;
                         kComent :string):comp;
end;
VipInterface eTaxDefs
  Implements ObjIdent, ObjTaxDefs
  #ifdef Atl51
  #Licensed_Free
  Parameters (wIntMode : word; strPatDef : string)
  #end
;

#endif // __PatDefs__vih__
