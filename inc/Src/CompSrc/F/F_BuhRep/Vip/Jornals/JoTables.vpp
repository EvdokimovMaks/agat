!-------------------------------------------------------------------------------
!                                                       (c) Корпорация ГАЛАКТИКА
!-------------------------------------------------------------------------------
! Система       : ГАЛАКТИКА
! Проект        : Бухгалтерский контур
! Версия        : 7.11
! Назначение    : Таблицы выгрузки
!                 Общая часть JoUnLoad.vip; MoUnLoad.vip
!---------------! Подежит переносу в объект !----------------------------------!
! Ответственный : Герман Юрий Эдуардович (Gera)
!-------------------------------------------------------------------------------

Type TSaldoRec = record as table SaldMoun;

!-------------------------------------------------------------------------------
const
  rtDbInOs  = 1;      // JoEnum.[R]un[T]ype
  rtOsInKr  = 2;
  rtAll     = 3;
  rtSecond  = 4;      // Для вторых проводок
end;
!-------------------------------------------------------------------------------
! Таблица наборов Д\К для выгрузки
Table struct JoEnum
(
   wTable    : word                    // Таблица (из которо выгужать)
  ,SchDb     : tSchet3                 // Счет
  ,SubDb     : tSubSch                 // Субсчет
  //,TblOs     : tTabKau
  ,KauOs     : tGetKau
  ,SchKr     : tSchet3                 // Счет
  ,SubKr     : tSubSch                 // Субсчет
  //,TblKs     : tTabKau
  ,KauKs     : tGetKau
  ,RunType   : word                    // Тип выгрузки (см. Константы)
)
with Index
(
   JoEnum01 = wTable + SchDb + SubDb + SchKr + SubKr + RunType
  ,JoEnum02 = wTable + SchDb + SubDb + KauOs[1] + KauOs[2] + KauOs[3] + KauOs[4] + KauOs[5] + KauOs[6] +
                       SchKr + SubKr + KauKs[1] + KauKs[2] + KauKs[3] + KauKs[4] + KauKs[5] + KauKs[6] + RunType
);
!-------------------------------------------------------------------------------
const
  dtAny      = 0; // JoData.[D]ata[T]ype
  dtDebet    = 1;
  dtKredit   = 2;
  dtKol      = 3; // количество
  dtVal      = 4; // в валюте операции
  dtRepVal   = 5; // в валюте отчетов
 end;
!-------------------------------------------------------------------------------
! Таблица для собранного отчета
Table struct JoData
(
   cSlit    : tNRec                    // Ссылка на разрез
  ,cColumn  : tNRec                    // Ссылка на колонку
  ,Summa    : TSumma                   // Сумма позиции
  ,DataType : word                     // Для случаев, если в ячейке более одной суммы
)
with index
(
   JoData01 = cSlit + cColumn + DataType
  ,JoData02 = cColumn
);
!-------------------------------------------------------------------------------
