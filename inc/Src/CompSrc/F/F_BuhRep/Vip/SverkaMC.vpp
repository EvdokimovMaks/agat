//------------------------------------------------------------------------------
//                                                      (c) Корпорация ГАЛАКТИКА
//------------------------------------------------------------------------------
// Галактика 8.1 - ФРО
// Сверка МЦ по складскому и бухгалтерскому учету
//------------------------------------------------------------------------------

table struct mt_BuhData
(
  Sch  : tSchet3 "счёт",
  SSch : tSubSch "субсчёт",
  cMc  : comp    "ссылка на Мат.ценность",
  cSkl : comp    "ссылка на склад",
  cMol : comp    "ссылка на МОЛ",
  cKau : comp    "значение выбранной аналитики ЦУ",
  cGrMc: comp    "Группа МЦ",
  Kol  : double  "количество",
  Summ : double  "сумма"
)
with index
(
  INDEX01 = cMc + cSkl + cMol + cKau + cGrMc + Sch + SSch
);

table struct mt_SkladData
(
  cMc  : comp    "ссылка на Мат.ценность",
  cSkl : comp    "ссылка на склад",
  cMol : comp    "ссылка на МОЛ",
  cKau : comp    "значение выбранной аналитики ЦУ",
  cGrMc: comp    "ссылка на группу МЦ",
  Kol  : double  "количество",
  Summ : double  "сумма"
)
with index
(
  INDEX01 = cMc + cSkl + cMol + cKau + cGrMc
);

table struct RepData
(
  nRec    : comp        "nRec записи",
  cRec    : comp        "оригинальный Nrec",
  cParent : comp        "ссылка на корень",
  cMc     : comp        "ссылка на Мат.ценность",
  cSkl    : comp        "ссылка на склад",
  cMol    : comp        "ссылка на МОЛ",
  cKau    : comp        "значение выбранной аналитики ЦУ",
  cGrMc   : comp        "ссылка на группу МЦ",
  Name    : string[61]  "наименование МЦ",
  BarKod  : string[30]  "номенклатурный номер МЦ",
  SchSubSch: string "счёт/субсчёт",
  sKol    : double      "кол-во по данным Скл.уч.",
  sSum    : double      "сумма по данным Скл.уч.",
  bKol    : double      "кол-во по данным Бух.уч.",
  bSum    : double      "сумма по данным Бух.уч.",
  isGroup : boolean     "true - группа"
)
with index
(
  INDEX01 = nRec(Unique, Surrogate),
  INDEX02 = cRec + isGroup,
  INDEX03 = cParent,
  INDEX04 = cMc + cSkl + cMol + cKau + cGrMc,
  INDEX05 = cMol,
  INDEX06 = cParent + Name,
  INDEX07 = cParent + BarKod,
  INDEX09 = Name,
  INDEX10 = BarKod,
  INDEX11 = isGroup,
  INDEX12 = cGrMc
);
