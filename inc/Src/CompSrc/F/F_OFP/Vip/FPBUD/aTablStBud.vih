//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 8.10 - модуль "Платежный календарь"
// Табличный объект взаимодействия: "Статьи бюджета"
//------------------------------------------------------------------------------

#ifndef __TablStBud_Vih__
#define __TablStBud_Vih__

#ifdef  ComponentVersion
#component "F_OFP"
#endif//ComponentVersion

//------------------------------------------------------------------------------
#include IModify.Vih            // Абстрактный табличный интерфейс
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
#doc
Табличный объект взаимодействия: "Статьи бюджета"
#end
ObjInterface oTablStBud;
  Property NRec    : comp   read write; // Номер записи
  Property wCode   : word   read write; // Код каталога документа
  Property cDoc    : comp   read write; // Ссылка на документ
  Property wKat    : word   read write; // Код каталога
  Property cStBud  : comp   read write; // Статья бюджета
  Property cFpCO   : comp   read write; // Центр ответственности
  Property Proc    : tSumma read write; // Процент
  Property Summa   : tSumma read write; // Сумма
  Property cGrAn   : comp   read      ; // Группа аналитик
  Property cHashAn : comp   read      ; // Хэш аналитик
  Property sHashAn : string read      ; // Признак того, что по статье ведется аналитический учет
  Property sStBud  : string read      ; // Наименование статьи
  Property sFpCO   : string read      ; // Наименование ЦО
  Property Abbr    : s20    read      ; // Аббревиатура


  Index TablStBud01 = wCode, cDoc, wKat, cStBud;

  //----------------------------------------------------------------------------
  #doc
    Распределен ли документ по указанной статье
  #end
  Function HasOrNoStBud(_cgKat: word; _cRec: comp; _cStBud: comp): boolean;
  //----------------------------------------------------------------------------
  #doc
    Пересчитать пропорционально
  #end
  Procedure ReCalcByKoef(_cgKat: word; _cRec: comp; _NewSum, _OldSum: double);
  //----------------------------------------------------------------------------
  #doc
     Редактирование разноски
  #end
  Procedure EditStBud(_cgKat: word; _cRec: comp; _Regim: word);
  //----------------------------------------------------------------------------
  #doc
     Установить значение ЦО
  #end
  Procedure SetFpCO(_cgKat: word; _cRec: comp; _cFpCO: comp);
  //----------------------------------------------------------------------------
  #doc
     Установить значение аналитики бюджетирования
  #end
  Procedure SetAn(_cgKat: word; _cRec: comp; _wKau: word; _cKau: comp);
  //----------------------------------------------------------------------------
  #doc
     Установить значения основных аналитик из документа
  #end
  Procedure SetAnBase(_cgKat: word; _cRec: comp; _cKau1, _cKau2, _cKau3, _cKau4, _cKau5, _cKau6, _cKau7, _cKau8: comp);
  //----------------------------------------------------------------------------
  #doc
     Описание последней ошибки
  #end
  Function GetStLastError: string;
  //----------------------------------------------------------------------------
  #doc
     Сообщение последней ошибки
  #end
  Function RunShowError: boolean;

End; // ObjInterface

//------------------------------------------------------------------------------
VipInterface TablStBud implements oTablStBud, IModify
  Licensed(Free);
Public:
  Constructor Init;
  Destructor  Done;
End;

#endif //__TablStBud_Vih__
