//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 9.10 - модуль "Электронная отчетность ГОЗ"
// Табличный объект чтения : "Структура отчета"
//------------------------------------------------------------------------------

#ifndef __gzrTablRepStructView_Obj__
#define __gzrTablRepStructView_Obj__

#Component "F_GOZReport"

//------------------------------------------------------------------------------
#include gzr_BaseAbstractTblInc.Obj  // Абстрактный базовый интерфейс : "Object Related Table"
#include gzrTablRepStruct.Tbl        // Таблицы объекта : "Структура отчета"
//------------------------------------------------------------------------------

//==============================================================================
#doc
Табличный объект чтения : "Структура отчета"<br>
<b>Внимание!</b> Интерфейс предназначен только для внутреннего использования
#end
Private ObjInterface IgzrTablRepStructView(Igzr_BaseAbstractTblInc);  //#region ObjInterface

  //----------------------------------------------------------------------------
  //#region Property
  Property NRec       : comp       read write;  // Номер записи
  Property cNode      : comp       read write;  // Ссылка на вышестоящий
  Property LevelNpp   : LongInt    read write;  // Порядковый номер на уровне
  Property Name       : string     read write;  // Наименование
  Property Note       : string     read write;  // Описание показателя
  Property sPath      : string     read write;  // Путь на вершину
  Property isRequired : boolean    read write;  // Обязательный элемент в XML
  Property isMultiple : boolean    read write;  // Множественный элемент в XML
  Property isTextNode : boolean    read write;  // Тип узла "текст" в XML
  Property isHidenRec : boolean    read write;  // Скрытая запись
  Property wCalcMode  : word       read write;  // Режим расчета
  Property wModOwner  : word       read write;  // Владелец изменений
  Property wNotCalc   : word       read write;  // Режим запрета расчета
  Property wNeedMode  : word       read write;  // Обязательность заполнения поля
  Property sKey       : string     read write;  // Ключ формулы
  Property sFormula   : string     read write;  // Формула расчета
  Property sValue     : string     read write;  // Значение показателя
  Property wValType   : word       read write;  // Тип значения
  Property wDecimal   : word       read write;  // Количество знаков после запятой
  Property sVFormat   : string     read write;  // Формат значения
  //#endregion Property
  //----------------------------------------------------------------------------

  //----------------------------------------------------------------------------
  //#region Index
  Index gzrTablRepStruct01 = NRec(Unique, Primary);
  Index gzrTablRepStruct02 = cNode, LevelNpp;
  Index gzrTablRepStruct03 = cNode, Name;
  Index gzrTablRepStruct04 = sPath;
  //#endregion Index
  //----------------------------------------------------------------------------

  //----------------------------------------------------------------------------
  //#region Methods
  //----------------------------------------------------------------------------
  #doc
     Задать идентификатор сессии
  #end
  procedure SetSessionID(
    _SessionID : comp   // идентификатор сессии
  );

  //----------------------------------------------------------------------------
  #doc
     Узнать является ли вершина листовой
  #end
  function GetIsLeaf : boolean;

  //----------------------------------------------------------------------------
  #doc
     Получить признак модификации данных
  #end
  function GetIsDataModif : boolean;
  //----------------------------------------------------------------------------
  #doc
     Установить признак модификации данных
  #end
  function SetIsDataModif(
    _Value     : boolean  // признак модификации данных
  ) : boolean;

  //----------------------------------------------------------------------------
  #doc
     Получить буфер MTRepStruct с позицией
  #end
  function GetMTRepStructBuff : Type$p_MTRepStruct;
  //----------------------------------------------------------------------------
  #doc
     Установить буфер MTRepStruct с позицией
  #end
  function SetMTRepStructBuff(_Value : Type$p_MTRepStruct) : boolean;
  //#endregion Methods
  //----------------------------------------------------------------------------
End; //#endregion ObjInterface
//******************************************************************************


#endif//__gzrTablRepStructView_Obj__
