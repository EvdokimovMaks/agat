//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 9.10 - модуль "Электронная отчетность ГОЗ"
// Табличный объект чтения : "Каталог отчетов"
//------------------------------------------------------------------------------

#ifndef __gzrTablRepCatalogView_Obj__
#define __gzrTablRepCatalogView_Obj__

#Component "F_GOZReport"

//------------------------------------------------------------------------------
#include gzr_BaseAbstractTblInc.Obj  // Абстрактный базовый интерфейс : "Object Related Table"
//------------------------------------------------------------------------------

//==============================================================================
#doc
Табличный объект чтения : "Каталог отчетов"<br>
<b>Внимание!</b> Интерфейс предназначен только для внутреннего использования
#end
Private ObjInterface IgzrTablRepCatalogView(Igzr_BaseAbstractTblInc);  //#region ObjInterface

  //----------------------------------------------------------------------------
  //#region Property
  Property NRec      : comp       read write;  // Номер записи
  Property cNode     : comp       read write;  // Ссылка на вышестоящий
  Property LevelCode : string     read write;  // Код на уровне
  Property wNodeType : word       read write;  // Тип узла иерархии
  Property wTPer     : word       read write;  // Тип периода
  Property cPeriod   : comp       read write;  // Ссылка на период
  Property cRepType  : comp       read write;  // Ссылка на тип отчета
  Property cReport   : comp       read write;  // Ссылка на отчет
  Property isErrVer  : boolean    read write;  // Признак НЕ актуальной версии отчета

  Property wRepID    : word       read      ;  // Идентификатор отчета
  Property wRepVer   : word       read      ;  // Версия отчета
  Property sIFCEditor: string     read      ;  // Наименование интерфейса редактирования
  Property sAlgKey   : string     read      ;  // Ключ системного алгоритма
  Property dBeg      : date       read      ;  // Дата начала
  Property dEnd      : date       read      ;  // Дата окончания
  Property Name      : string     read      ;  // Наименование
  //#endregion Property
  //----------------------------------------------------------------------------

  //----------------------------------------------------------------------------
  //#region Index
  Index gzrTablRepCatalog01 = NRec(Unique, Primary);
  Index gzrTablRepCatalog02 = cNode, LevelCode;
  Index gzrTablRepCatalog03 = cReport;
  Index gzrTablRepCatalog04 = cPeriod, cRepType, cReport;
  //#endregion Index
  //----------------------------------------------------------------------------

  //----------------------------------------------------------------------------
  //#region Methods
  //----------------------------------------------------------------------------
  #doc
     Узнать построен ли каталог отчетов
  #end
  function GetIsRepCatalogBuild : boolean;

  //----------------------------------------------------------------------------
  #doc
     Запустить построение каталога отчетов
  #end
  function RunBuildRepCatalog : boolean;

  //----------------------------------------------------------------------------
  #doc
     Добавить отчет в иерархию
  #end
  function AddReportToHier(
    _cReport : comp  // ссылка на отчет
  ) : comp;          // ссылка на запись в иерархии
  //#endregion Methods
  //----------------------------------------------------------------------------

End; //#endregion ObjInterface
//******************************************************************************


#endif//__gzrTablRepCatalogView_Obj__
