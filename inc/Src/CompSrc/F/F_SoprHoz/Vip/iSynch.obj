//------------------------------------------------------------------------------
//                                                      (c) Корпорация ГАЛАКТИКА
//------------------------------------------------------------------------------
// Система       : ГАЛАКТИКА
// Проект        : Бухгалтерский контур
// Назначение    : Объект синхронизации таблиц BaseFin и SoprHoz
//------------------------------------------------------------------------------

#ifndef _iSynch_Obj_
#define _iSynch_Obj_

#ifdef ComponentVersion
#Component "F_SoprHoz"
#end

#include TSoprHoz.vih
#include TBaseFin.vih

#doc
Объект синхронизации таблиц BaseFin и SoprHoz
#end
ObjInterface iSynch;

  #doc
  Синхронизация SoprHoz по BaseFin
  #end
  Function SynchSoprHoz(var bufBF : #TBaseFinX): boolean;

  #doc
  Синхронизация BaseFin по SoprHoz
  #end
  Function SynchBaseFin(var bufSH : #TSoprHozX) : boolean;

  #doc
  Удаляет синхронизацию BaseFin-а в SoprHoz-е и все призязки к этому SoprHoz-у
  #end
  Function DelSynchSoprHoz(cSopr: comp): boolean;

  #doc
  Удаляет синхронизацию SoprHoz-а в BaseFin-е и все призязки к этому SoprHoz-у
  #end
  Function DelSynchBaseFin(cSopr: comp): boolean;
  
  #doc
  Инициализация (вызывать до обращения к методам CheckNamePlat, GetAllSumOplNalog)
  #end
  Function InitBaseFF(wMode: integer; wTip: word; cDoc: comp;
                      dPlat: Date): boolean;

  #doc
  Деинициализация (после вызовов CheckNamePlat, GetAllSumOplNalog)
  #end
  Procedure DoneBaseFF;

  #doc
  Формирование строк для назначения платежа
  #end
  Procedure CheckNamePlat(wMode: integer; cDoc: comp;
                          wTip: word; isCulcNal: boolean;
                          cCulcNal: comp; StavNal: double;
                          var SumNalog: double; var sNamePl1: string[76];
                          var sNamePl2: string[76]; var sNamePl3: string[76];
                          var sNamePl4: string[76]);

  #doc
  Расчет сумм оплаченных налогов (для платежного док-та)
  #end
  Function GetAllSumOplNalog(wMode: integer; cDoc: comp; cCulcNal: comp;
                             StavNal: double): double;

  #doc
  Формирование фразы по настройке "Ссылка на ДО в банковских документах"
  #end
  Function GivenTuneNameDO: string;

  #doc
  Финансовый ПКП, связанный с заданным товарным ПКП
  #end
  Function GetFinCalPlan(var acTovPkp: comp): comp;
end;

ObjInterface iSynchLight;
  #doc
  Синхронизация BaseFin по SoprHoz.Nrec
  #end
  Function SynchBaseFinByNrec(cSoprHoz : comp) : boolean;
end;

#end

