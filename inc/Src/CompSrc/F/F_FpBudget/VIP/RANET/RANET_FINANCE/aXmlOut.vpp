//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 9.10 - модуль "Управление бюджетом"
// Работа с Xml-файлом
//------------------------------------------------------------------------------

//*******************************************************************
// Xml-документ
table struct sXmlDoc
(
    NRec    : comp
  , Id      : TSurrPtr
  , FileName: string  // xml-файл
  , TableName: string // таблица в xml-файле, из которой идет загрузка
  , NodesId : TSurrPtr // содержит этот список узлов
)
with index
(
    byNRec  = NRec (unique, surrogate)
)
;
// Xml-узел
table struct sXmlNode
(
    NRec    : comp
  , Id      : TSurrPtr
  , cXmlDoc : comp
  , cXmlNode: comp    // ссылка на вышестоящего
  , ParentId: TSurrPtr //
  , NodesId : TSurrPtr // входит в этот список узлов
  , AttrsId : TSurrPtr // содержит этот список атрибутов
)
with index
(
    byNRec    = NRec (unique, surrogate)
  , byXmlNode = cXmlNode
)
;
// Xml-атрибут
table struct sXmlAttr
(
    NRec    : comp
  , Id      : TSurrPtr
  , AttrsId : TSurrPtr // входит в этот список атрибутов
  , cXmlNode: comp    // привязан к этому узлу
  , XmlNodeId: TSurrPtr//
  , Name    : string  // название
  , Value   : string  // значение
)
with index
(
    byNRec    = NRec (unique, surrogate)
  , byXmlNode = cXmlNode
)
;
//*******************************************************************


