//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 9.10 - модуль "Управление бюджетом"
// Базовый объект : "Типовые формы бюджетов"
//------------------------------------------------------------------------------

#ifndef _ObjFpTForm_Included_
#define _ObjFpTForm_Included_

//------------------------------------------------------------------------------
#include FpOTF.tbl // таблицы настройки видимости периодов и аналитик
//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
#include Fp_decl.Mac   // макросы функций ObjInterface
//------------------------------------------------------------------------------

#ifdef  ComponentVersion
#component "F_FpBudget"
#endif //ComponentVersion

//------------------------------------------------------------------------------
#doc
Базовый объект : "Типовые формы бюджетов"<br>
<b>Внимание!</b> Интерфейс предназначен только для внутреннего использования<br>
#end
#IntPrivate ObjInterface iObjFpTForm;

//==============================================================================
//                                 ERROR
//------------------------------------------------------------------------------
#doc
   Функция возвращает описание последней ошибки
#end
function GetStLastError : string;

//==============================================================================
//                                 MODIFY
//------------------------------------------------------------------------------
#mDeclModifyFun(type$p_FpTForm)

//==============================================================================
//                               FIELDS (Get)
//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
#mDeclGetFun(GetName            ,string  ,type$p_FpTForm)
#mDeclGetFun(GetLastNpp1        ,word    ,type$p_FpTForm)
#mDeclGetFun(GetFull            ,boolean ,type$p_FpTForm)
#mDeclGetFun(GetHaveAnMean      ,boolean ,type$p_FpTForm)
#mDeclGetFun(GetCorrect         ,boolean ,type$p_FpTForm)
#mDeclGetFun(GetAutoSynch       ,boolean ,type$p_FpTForm)
#mDeclGetFun(GetLocalLoadAnMean ,boolean ,type$p_FpTForm)
#mDeclGetFun(GetAgrAnalitLoad   ,boolean ,type$p_FpTForm)
#mDeclGetFun(GetIsDelAxis       ,boolean ,type$p_FpTForm)
#mDeclGetFun(GetXXLMetaData     ,boolean ,type$p_FpTForm)
#mDeclGetFun(GetXXLData         ,boolean ,type$p_FpTForm)

#mDeclGetFun(GetRightEditAgrMode      ,word ,type$p_FpTForm)
#mDeclGetFun(GetAutoEditAgrMode       ,word ,type$p_FpTForm)
#mDeclGetFun(GetAutoAlgEditAgrMode    ,word ,type$p_FpTForm)
#mDeclGetFun(GetHandleAlgEditAgrMode  ,word ,type$p_FpTForm)
#mDeclGetFun(GetAnalitTFormEditAgrMode,word ,type$p_FpTForm)
#mDeclGetFun(GetMessageEditAgrMode    ,word ,type$p_FpTForm)

#mDeclGetFun(GetCellDecimal           ,word ,type$p_FpTForm)

//==============================================================================
//                               FIELDS (Set)
//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
#mDeclSetFun(SetName            ,string  ,type$p_FpTForm)
#mDeclSetFun(SetFull            ,boolean ,type$p_FpTForm)
#mDeclSetFun(SetCorrect         ,boolean ,type$p_FpTForm)
#mDeclSetFun(SetAutoSynch       ,boolean ,type$p_FpTForm)
#mDeclSetFun(SetLocalLoadAnMean ,boolean ,type$p_FpTForm)
#mDeclSetFun(SetAgrAnalitLoad   ,boolean ,type$p_FpTForm)
#mDeclSetFun(SetIsDelAxis       ,boolean ,type$p_FpTForm)
#mDeclSetFun(SetXXLMetaData     ,boolean ,type$p_FpTForm)
#mDeclSetFun(SetXXLData         ,boolean ,type$p_FpTForm)

#mDeclSetFun(SetRightEditAgrMode      ,word ,type$p_FpTForm)
#mDeclSetFun(SetAutoEditAgrMode       ,word ,type$p_FpTForm)
#mDeclSetFun(SetAutoAlgEditAgrMode    ,word ,type$p_FpTForm)
#mDeclSetFun(SetHandleAlgEditAgrMode  ,word ,type$p_FpTForm)
#mDeclSetFun(SetAnalitTFormEditAgrMode,word ,type$p_FpTForm)
#mDeclSetFun(SetMessageEditAgrMode    ,word ,type$p_FpTForm)

#mDeclSetFun(SetCellDecimal           ,word ,type$p_FpTForm)


#undef mDeclModifyFun
#undef mDeclGetFun
#undef mDeclSetFun

//==============================================================================
//                               All Fields Init, Done
//------------------------------------------------------------------------------
#doc
   Инициализация сессии работы с дополнительными полями сущности
#end
//------------------------------------------------------------------------------
function InitAddFld(_cRec : comp) : boolean;

//------------------------------------------------------------------------------
#doc
   Закрытие сессии работы с дополнительными полями сущности
#end
//------------------------------------------------------------------------------
function DoneAddFld(_cRec : comp) : boolean;

//------------------------------------------------------------------------------
#doc
   Перечитать из БД дополнительные поля сущности
#end
//------------------------------------------------------------------------------
function ReReadAddFld(_cRec : comp) : boolean;

//------------------------------------------------------------------------------
#doc
   Загрузить из БД список видимых типов периодов
#end
function LoadTFormTPTune(_cRec : comp) : boolean;
//------------------------------------------------------------------------------
#doc
   Загрузить из БД список аналитик синхронизации
#end
//------------------------------------------------------------------------------
function LoadTFormKAUTune(_cRec : comp) : boolean;
#doc
   Сохранить в БД список видимых типов периодов
#end
//------------------------------------------------------------------------------
function SaveTFormTPTune(_cRec : comp) : boolean;
#doc
   Сохранить в БД список аналитик синхронизации
#end
function SaveTFormKAUTune(_cRec : comp) : boolean;
//------------------------------------------------------------------------------
#doc
   Удалить из БД список видимых типов периодов
#end
function DelTFormTPTune(_cRec : comp) : boolean;
//------------------------------------------------------------------------------
#doc
   Удалить из БД список аналитик синхронизации
#end
function DelTFormKAUTune(_cRec : comp) : boolean;
//------------------------------------------------------------------------------
#doc
   Скопировать список видимых типов периодов из одной типовой формы в другую
#end
function CopyTFormTPTune(_cDTForm : comp; _cSTForm : comp) : boolean;
//------------------------------------------------------------------------------
#doc
   Скопировать список аналитик синхронизации из одной типовой формы в другую
#end
function CopyTFormKAUTune(_cDTForm : comp; _cSTForm : comp) : boolean;

//==============================================================================
//                                   RIGHT
//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
#doc
   Разрешено ли редактировать типовую форму
#end
function CanEditCatalog : boolean;

//------------------------------------------------------------------------------
#doc
   Разрешено ли редактировать настройку редактирования агрегатов
#end
function CanEditAlgRasp : boolean;

//==============================================================================
//                                  LOCK
//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
#doc
   Проверка заблокирована ли типовая форма для использования при редактировании бюджета
#end
//------------------------------------------------------------------------------
function IsLockUseTForm(_cTForm : comp; _isMessage : boolean) : boolean;

//------------------------------------------------------------------------------
#doc
   Проверка заблокирована ли типовая форма для редактирования
#end
//------------------------------------------------------------------------------
function IsLockEditTForm(_cTForm : comp; _isMessage : boolean) : boolean;

//------------------------------------------------------------------------------
#doc
   Проверка заблокирована ли типовая форма
#end
//------------------------------------------------------------------------------
function IsLockTForm(_cTForm : comp; _isMessage : boolean) : boolean;

//------------------------------------------------------------------------------
#doc
   Блокировка типовой формы для использования при редактировании бюджета
#end
//------------------------------------------------------------------------------
function LockUseTForm(_cTForm : comp) : boolean;

//------------------------------------------------------------------------------
#doc
   Блокировка типовой формы для редактирования
#end
//------------------------------------------------------------------------------
function LockEditTForm(_cTForm : comp) : boolean;

//------------------------------------------------------------------------------
#doc
   Разблокировка типовой формы для использования при редактировании бюджета
#end
//------------------------------------------------------------------------------
function UnLockUseTForm(_cTForm : comp) : boolean;

//------------------------------------------------------------------------------
#doc
   Разблокировка типовой формы для редактирования
#end
//------------------------------------------------------------------------------
function UnLockEditTForm(_cTForm : comp) : boolean;


//==============================================================================
//                                 AUTORASP
//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
function CopyAutoRaspFields(_cDTForm : comp; _cSTForm : comp) : boolean;

//==============================================================================
//                                  COMMON
//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
#doc
   Получить значения свойства
#end
function GetAllAxis(
    _cTForm : comp;
var _cAxis1 : comp;
var _cAxis2 : comp
) : boolean;

//------------------------------------------------------------------------------
#doc
   Получить значения свойства
#end
function GetKodGrKauNpp (_cTForm : comp; _KodGrKau : word) : word;

//------------------------------------------------------------------------------
#doc
   Получить значения свойства
#end
function GetAxisKodGrKau(_cTForm : comp; _KodGrKau : word) : comp;

//------------------------------------------------------------------------------
#doc
   Получить значения свойства
#end
function GetAnTForm    (_cTForm : comp; _CAn : TPtr) : boolean;

//------------------------------------------------------------------------------
#doc
   Удалить типовую форму
#end
function DelTForm(_cTForm : comp; _isMessage : boolean) : boolean;

//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
End;

VipInterface ObjFpTForm implements iObjFpTForm
#Licensed_Free;

#endif // _ObjFpTForm_Included_
