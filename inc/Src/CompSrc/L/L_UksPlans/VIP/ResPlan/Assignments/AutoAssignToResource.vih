//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 9.1
// Автоматическое назначение исполнителей для заданного ресурса
//------------------------------------------------------------------------------

#ifndef _AutoAssignToResource_vih_
#define _AutoAssignToResource_vih_

#component "L_UksPlans"

#include ScheduleKS.vih
#include AssignmentsValidator.vih // Проверка возможности назначений исполнителей
#include SimpleLogFile.vih

private objinterface IAutoAssignToResource;

  // Назначение исполнителей для заданного ресурса типа "Машины и механизмы" либо "Трудозатраты рабочих".
  public function Assign_EM_OZP(
    _planJobBuf: type$PlanJob; // Буфер записи PlanJob ресурса
    _assignmentsValidator: IAssignmentsValidator; // ссылка на валидатор
    _schedule: IScheduleKS; // ссылка на планировщик
    _errLog: ISimpleLogFile // ссылка интерфейс протоколирования ошибок
  ): boolean; // возвращает false при неудачном назначении. Описание причины пишется в протокол (если задан)

  // Для каждого назначения указанного ресурса ММ назначить соответствующих исполнителей указанного ресурса "ЗПМ"
  public function Assign_ZPM(
    _planJobBuf: type$PlanJob; // буфер записи ресурса "ЗПМ"
    _EMplanJobBuf: type$PlanJob; // буфер записи ресурса "Машины и механизмы"
    _assignmentsValidator: IAssignmentsValidator;
    _schedule: IScheduleKS; // ссылка на планировщик
    _errLog: ISimpleLogFile // ссылка интерфейс протоколирования ошибок
  ): boolean; // возвращает false при неудачном назначении. Описание причины пишется в протокол (если задан)
end;

private vipinterface AutoAssignToResource implements IAutoAssignToResource licensed(free);

#endif
