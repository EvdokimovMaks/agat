//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 5.8х - УКС - Управление капитальным строительством
// Расчет фактических показателей по плану строительства
//------------------------------------------------------------------------------

#ifdef ComponentVersion
 #component "L_UksPlans"
#end

#doc
Содержит методы для работы с расчетом факта по плану строительства.
#end
ObjInterface ORaschetFakta;
#doc
Возвращает сумму по договору для объекта.
#end
Function SummDogForObj(cPer, cObj, cDog : comp) : double;
#doc
Возвращает сумму по финансовому документу для объекта.
#end
Function SummFinForObj(cPer, cObj : comp) : double;
#doc
Вернуть коэф распределения суммы договора на период.
#end
Function GetProcOfPeriod_Dog(cPer, cDog : comp) : double;

#doc
Расчет объема финансирования для заданного объекта строительства на указанную дату.</brief>
Автономный метод. Не требует никаких предварительных настроек интерфейса.
Для безопасного вызова данного метода НЕОБХОДИМО использовать НЕРАЗДЕЛЯЕМЫЙ экземпляр интерфейса, используя
оператор new (это необходимо по причине того, что данный вызов меняет состояние интерфейса "под себя" и
после не восстанавливает это состояние, из соображений производительности).
#end
public procedure CalculateFinancingAmount(
  _buildObject: comp;             //#docl ссылка на объект строительства, для которого ведется расчет (KatStroy.nRec).
  _co: comp;                      //#docl ссылка на центр ответственности (fpCO.nRec).
  _calcUntilDate: date;           //#docl дата, на которую ведется расчет (но не включая ее).
  out _amountInCurrPrice: double; //#docl рассчитанный объем финансирования в текущих ценах.
  out _amountInBasePrice: double  //#docl рассчитанный объем финансирования в базовых ценах.
);
end;

VipInterface RaschetFakta implements ORaschetFakta licensed(FREE);
