//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика 8.10 - УКС - Управление капитальным строительством
// Константы и типы для менеджера проекта (плана работ)
//------------------------------------------------------------------------------

#ifndef __Schedule_inc__
#define __Schedule_inc__

Const

  // тип работ
  lPrjType  = 1;
  lWorkType = 2;
  // тип ресурса
  lHumanType    = 0;
  lMaterialType = 1;
  // тип связи
  lStartToStart = 0;
  lStartToEnd   = 1;
  lEndToStart   = 2; // по умолчанию
  lEndToEnd     = 3;

  // Константы для сделанных со связью работ изменений
  cgMod_Insert =    0; // запись добавлена
  cgMod_Update =    1; // запись модифицирована
  cgMod_Delete =    2; // запись удалена
  cgMod_None   = 1000; // нет изменений

  // Константы для типов ограничений задачи
  cgConstr_FIRST_TYPE = 0; // д.б. равен идентификатору типа с наименьшим значением
  cgConstr_ASAP   = 0; // Как можно раньше         | As Soon As Possible
  cgConstr_ALAP   = 1; // Как можно позже          | As Late As Possible
  cgConstr_FNLT   = 2; // Окончание не позднее     | Finish No Later Than
  cgConstr_FNET   = 3; // Окончание не ранее       | Finish No Earlier Than
  cgConstr_SNET   = 4; // Начало не ранее          | Start No Earlier Than
  cgConstr_SNLT   = 5; // Начало не позднее        | Start No Later Than
  cgConstr_Finish = 6; // Фиксированное окончание  | Finish On
  cgConstr_Start  = 7; // Фиксированное начало     | Start On
  cgConstr_LAST_TYPE = 7; // д.б. равен идентификатору типа с набольшим значением

  // Причины запрета создания связей работ
  cgDisable_None =  0; // Нет запрета
  cgDisable_Sub  =  2; // работа является вышестоящей для текущей
  cgDisable_Next =  4; // приведет к циклической связи
  cgDisable_Fact =  8; // у работы есть факт
  cgDisable_Self = 16; // текущая работа

  // Константы режимов загрузки задач
  cgLoad_None  = 0;
  cgLoad_Task  = 1; // только те задачи, которые связаны с текущей - для пересчета после изменений параметров задачи
  cgLoad_Part  = 2; // только та часть задач, которую нужно отобразить в окне выбора предшественника
  cgLoad_All   = 3; // все задачи - для полного пересчета
  cgLoad_Gantt = 4; // только та часть задач, которую нужно отобразить на диаграмме Ганта

  cgTaskInfo = 50000; // Тип записей о связи задач

End;

//------------------------------------------------------------------------------
#include UksSchedule.tbl // Таблицы в памяти для менеджера проекта (плана работ)

//------------------------------------------------------------------------------
Type TTask  = record as Table mtTask;
Type TPTask = record as Table mtTask with x$position;

//------------------------------------------------------------------------------
// Диапазон - пара ссылок на периоды
Type TRange = record
  cBeg: comp;
  cEnd: comp;
end;

//------------------------------------------------------------------------------
// Пара диапазонов (для плана и факта)
Type TCouple = record
  rPlan: TRange;
  rFact: TRange;
end;

#endif // __Schedule_inc__
