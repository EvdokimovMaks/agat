/*
 ╔═══════════════════════════════════════════════════════════════════════════╗
 ║                     (c) 2001   корпорация ГАЛАКТИКА                       ║
 ║ Проект        : ГАЛАКТИКА                                                 ║
 ║ Система       : Заработная плата                                          ║
 ║ Версия        : 7.1                                                       ║
 ║ Назначение    : Описание   временных таблиц, которые используются         ║
 ║                 при формировании справок по расчету отпускных             ║
 ║ Ответственный : Ковшов Владимир Иванович                                  ║
 ║ Параметры     : нет                                                       ║
 ║ Изменения                                                                 ║
 ║     Автор: ___________________ Дата: __________________                   ║
 ║     Цель : ____________________________________________                   ║
 ╚═══════════════════════════════════════════════════════════════════════════╝
*/
Table struct Table0 ( // для заголовка первой формы
  cOtp     : comp,    //nrec отпуска (otpusk)
  KodOtp   : word,    // наименование отпуска
  DateBeg  : date,    // начало отпуска
  DateEnd  : date,    // окончание отпуска
  KOLDN    : Double   // количество дней отпуска
)
with index (
  Table0_0 = DateBeg
);

Table struct Table1 ( // для первой формы
  DPeriod  : date,    // Года и месяцы периода
  DnChas   : double,  // дней-часов
  Grafik   : double,  // по графику
  IstVipl  : word,    // источник выплаты
  ZarBK    : double,  // заработок без коэффициента
  Koeff    : double,  // коэффициент
  ZarBKK   : double,  // заработок без коэффициента после перехода
  KoeffK   : double,  // коэффициент после перехода
  ZarSK    : double,  // заработок c коэффициентом
  Voznarg  : double,  // вознаграждение
  Vsego    : double,  // всего заработок
  KoefVr   : double,  // коэф-т исп.времени для РК
  SrZar    : double,  // средний заработок
  ZarBPrBK : double,  // заработок без премии, без коэффициента
  PrBK     : double,  // премия, без коэффициента
  ZarBPrSK : double,  // заработок без премии, c коэффициентом
  PrSK     : double   // премия, c коэффициентом
)
with index (
  Table1_0 = DPeriod + IstVipl,
  Table1_1 = IstVipl + DPeriod
);

Table struct Table2 ( // для второй формы
  KodOtp   : word,    // наименование отпуска
  IstVipl  : word,    // источник выплаты
  DateBeg  : date,    // начало отпуска
  DateEnd  : date,    // окончание отпуска
  DnChas   : double,  // дней-часов
  Summa    : double,  // сумма
  PodNal   : double,  // налог для формы Т60/Т61
  PodNalD  : double,  // алим. для формы Т60/Т61
  PensNalD : double,  // сбор по алим. для формы Т60/Т61
  ProfNal  : double   // профс.взнос для формы Т60/Т61
)
with index (
  Table2_0 = KodOtp + IstVipl + DateBeg,
  Table2_1 = IstVipl,
  Table2_2 = DateBeg
);

Table struct Table3 ( // для третьей формы
  KodOtp   : word,    // наименование отпуска
  DnChas   : double,  // дней-часов
  Procent  : double,  // процент
  IstVipl  : word,    // источник выплаты
  Sredni   : double,  // средний
  Summa    : double   // сумма
)
with index (
  Table3_0 = KodOtp + IstVipl,
  Table3_1 = IstVipl
);

// 101.39249
// Таблица для сортировки результатов расчета отпуска по табельному номеру

table struct FormarksTmp
(
  Marked  : s1,
  Cpodr   : comp,
  Choice  : Word,
  Field1  : tCex,
  Field2  : tTabN,
  strTabN : TabnStr,
  FIO     : string,
  tPerson : comp,
  cLschet : comp
)
with index 
(
  Ind01 = Choice + Cpodr,    
  Ind02 = Field2 + FIO  + Cpodr,
  Ind03 = strTabN + FIO + Cpodr   
);
