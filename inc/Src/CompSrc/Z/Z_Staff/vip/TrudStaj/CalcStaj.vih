//------------------------------------------------------------------------------
//                                                      (c) корпорация Галактика
// Галактика ERP 9.1 - Управление персоналом
// Формирование записей о трудовых стажах
//------------------------------------------------------------------------------

#ifndef _CalcStaj_vih_Included
#define _CalcStaj_vih_Included

#component "Z_Staff"

type
  RFormCalcStaj = record
    mSeniority  : TPtr;
    mKodOther   : TPtr;
    mUsePrev    : TPtr;
    DeptMarker  : TPtr;
    PsnMarker   : TPtr;
    JobMarker   : TPtr;
    SafeMode    : word;
    UseCur      : word;
    UsePrev     : word;
    StatPers    : word;
    PeriodBeg   : date;
    PeriodEnd   : date;
  end;

#doc
Формирование записей о трудовых стажах
#end
ObjInterface ObjCalcStaj;

  #doc
  Пересчет стажа для больничных
  #end
  procedure prReFormStajForBoln(cPsn, cLS: comp);

end;

#doc
Формирование трудового стажа
#end
ObjInterface ObjCalcStaj01;

  #doc
  Вызов интерфейса формирования трудового стажа с заданными параметрами

  Параметры:
    mSeniority - маркер видов стажа
    mKodOther - маркер исключений из стажа
    mUsePrev - маркер исключений из военной и других служб, включаемых в стаж
    DeptMarker - маркер подразделений
    PsnMarker - маркер сотрудников
    JobMarker - маркер характера работы
    SafeMode - исключение отклонений только из последней записи стажа (0 - исключать из всех, 1 - только из последней)
    UseCur - выбор места, откуда берется дата приема и увольнения (0 - из управления персоналом, 1 - заработной платы)
    UsePrev - учет исключений из военной и других служб, включаемых в стаж (0 - не учитываются, 1 - учитываются)
    StatPers - база для просмотра ( 5 'работающие на дату',
                                    0 'работающие и принятые будущим периодом',
                                    1 'текущие',
                                    2 'архив',
                                    3 'вся картотека',
                                    4 'уволенные, не переведенные в архив')
    PeriodBeg - дата начала периода расчета
    PeriodEnd - дата окончания периода расчета
  #end
  procedure prFormStajForPers (oRec : RFormCalcStaj);

end;
VipInterface CalcStaj
  implements ObjCalcStaj, ObjCalcStaj01
  licensed (free);

#ifndef Gal9_2
// при отсутствии модуля Заработная плата
VipInterface StaffServLenCalc
  licensed (free);
#endif

#endif
