//------------------------------------------------------------------------------
//                                           (c) корпорация ГАЛАКТИКА
// Версия        : 8.0
// Назначение    : Картотека сотрудников, общая корневая таблица
//
//------------------------------------------------------------------------------
#ifdef ComponentVersion
#component "z_Staff"
#end

table struct tmpPersons
(
  Nrec: comp,
  Choice: word,
  FIO: string,  // ФИО
  TabNmb: longint, // Табельный номер
  StrTabN: string[20], // Строковый табельный номер
  Department: comp, // ссылка на головное подразделение
  DepartmentDeep: comp, // ссылка на головное подразделение
  cApp: comp, // ссылка на назначение, из которого взяли данные
  AppDate: date,    // дата приема на работу
  DisDate: date,    // дата увольнения
  sDepCode: string,  // код подразделения
  sDepartment: string,  // подразделение строкой
  sPost: string,  // должность
  CodeProf: string,  // код основной профессии
  sCategory: string,   // категория
  sSovmTabN: string, // табельный номер совместителя
  Rate: double,
  Num: longint       // для хранения не уникальных NRec
)
with index
(
  indexByFIO = Choice + FIO
  , indexByTabNmb = Choice + TabNmb + StrTabN
  , indexByNrec = Nrec(unique) + Choice + Num
  , indexByDepart = Choice + sDepartment
  , indexByAppDate = Choice + AppDate
  , indexByBaseProf = Choice + sPost
  , indexByCodeProf = Choice + CodeProf
  , indexByDepCode = Choice + sDepCode
  , indexByCategory = Choice + sCategory
  , indexByDept = Department + FIO
  , indexByDeptT = Department + TabNmb + StrTabN
  , indexByDept2 = DepartmentDeep + FIO
  , indexByDeptT2 = DepartmentDeep + TabNmb + StrTabN
  , indexByTabNSovm = Choice + sSovmTabN
);
