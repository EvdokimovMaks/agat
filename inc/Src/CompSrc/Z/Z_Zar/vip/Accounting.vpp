/*
 ษอออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
 บ                     (c) 2000,3000 ชฎเฏฎเๆจ๏                     บ
 บ เฎฅชโ        :                                                  บ
 บ จแโฅฌ       : เกฎโญ๏ ฏซโ                                          บ
 บ ฅเแจ๏        : 5.8-7.1                                                   บ
 บ งญ็ฅญจฅ    : ชเฎฎฏเฅคฅซฅญจ๏ คซ๏ ฃฅญฅเๆจจ ฏเฎๆฅคใเ ฎกเกฎโชจ      บ
 บ โขฅโแโขฅญญ๋ฉ : ฎเง๎ช จโซจฉ เญๆฅขจ็                                  บ
 ศอออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ
*/

#declare DeclareAccountingFunctions(TableName,Sfx)
  // ฎ็จแโช ญซจโจชจ
  procedure Clear_#(TableName)_#(Sfx)_Analytics(WithSet: boolean);
  {
    var I: integer;
    for (I := cFirstKAU; I <= cLastKAU; I := I + 1)
    {
      #TableName.TBL#Sfx[I]  := 0;
      #TableName.CKAU#Sfx[I] := SetDefKodeKau;
    }
    if (WithSet)
      set #TableName.CKAU#Sfx[cLastKAU] := #TableName.CKAU#Sfx[cLastKAU];
  }

  // ฎ็จแโช แใกแ็ฅโ
  procedure Clear_#(TableName)_#(Sfx)_Controlaccount(WithSet: boolean);
  {
    Clear_#(TableName)_#(Sfx)_Analytics(false);
    if (WithSet)
      set #TableName.CSUBSCH#Sfx := cgDefSub;
    else
      #TableName.CSUBSCH#Sfx := cgDefSub;

  }

  // ฎ็จแโช แ็ฅโ
  procedure Clear_#(TableName)_#(Sfx)_Account(WithSet: boolean);
  {
    Clear_#(TableName)_#(Sfx)_Controlaccount(false);
    if (WithSet)
      set #TableName.CSCHET#Sfx := cgDefSch;
    else
      #TableName.CSCHET#Sfx := cgDefSch;
  }

  // ข๋กฎเ แ็ฅโ
  procedure Pick_#(TableName)_#(Sfx)_Account(OpenQuickChoice: boolean);
  {
    if (OpenQuickChoice)
      QuickChoiceName := 'qcBuh_Schet';
    else
      QuickChoiceName := '';
    var shpzar: TSchet3;
    shpzar := PLANSSCH.KOD + #TableName.CSCHET#Sfx;
    if (RunInterface('GetBuhSchet', word(cgiPick), MyPlansNo, shpzar, #TableName.CSUBSCH#Sfx) <> cmCancel)
    {
      #TableName.CSCHET#Sfx := SubStr(shpzar, 2, cgSchetLength - 1);
      Clear_#(TableName)_#(Sfx)_Analytics(true);
    }
  }

  // ข๋กฎเ แใกแ็ฅโ
  procedure Pick_#(TableName)_#(Sfx)_ControlAccount(OpenQuickChoice: boolean);
  {
    Pick_#(TableName)_#(Sfx)_Account(OpenQuickChoice);
  }
#end

#declare DeclareAnalyticsFunctions(TableName,Sfx)
  // ข๋กฎเ N-ใเฎขญฅขฎฉ ญซจโจชจ
  procedure Pick_#(TableName)_#(Sfx)_Analytics;
  {
    var shpzar: TSchet3;
    shpzar := PlansSch.Kod + #TableName.CSCHET#Sfx;
    if (iXGetKau.PickKauBuh(
      cgiPick, word(0),
      shpzar, #TableName.CSUBSCH#Sfx,
      #TableName.TBL#Sfx,
      #TableName.CKAU#Sfx
      ))
      set #TableName.CKAU#Sfx[1] := #TableName.CKAU#Sfx[1];
  }
#end
