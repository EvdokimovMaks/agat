//******************************************************************************
//                                                      (с) корпорация Галактика
// Галактика 7.12 - Заработная плата
// Объявление PrNaryad1
//******************************************************************************

#ifndef _PRNARYAD_VIH_INCLUDED_
#define _PRNARYAD_VIH_INCLUDED_

#include RATESSYNCHRONIZER.VIH  //синхронизатор расценок
#include PSNREFS.VIH            //стандартный поиск по фамилии

#ifdef ComponentVersion
  #component "Z_MP"
#end

//******************************************************************************
#doc
  Объектный интерфейс итератора по списку лицевых счетов.
#end
objinterface IPersonalAccountListIterator;
  #doc
    Устанавливает указатель на первый лицевой счет в списке. Возвращает true в
    случае удачного завершения.
  #end
  function First: boolean;

  #doc
    Устанавливает указатель на следующий лицевой счет в списке. Возвращает true
    в случае удачного завершения.
  #end
  function Next: boolean;

  #doc
    Возвращает значение ссылки на лицевой счет.
  #end
  function GetPersonalAccountRef: comp;
end;

//******************************************************************************
#doc
  Объектный интерфейс генератора спецификаций нарядов.
#end
objinterface IJobSheetSpecificationMaker;
  #doc
    Создает спецификацию наряда. </brief>

    <p>Nrec наряда передается в JobSheetRef, список лицевых счетов описывается
    итератором Iterator.</p>
  #end
  function CreateSpecification(JobSheetRef: comp; Iterator: IPersonalAccountListIterator): boolean;
end;

//******************************************************************************
#doc
  Объектный интерфейс для функции обновления отработанного времени.
#end
objinterface IUpdatePeriod;
  #doc
    Обновить отработанное время в соответствии с табелем/плановым графиком
  #end
  procedure UpdatePeriod(JobSheetRef : comp);
end;
//******************************************************************************
vipinterface prnaryad1
  implements
    TPersonsRefsListObjInterface,
    IJobSheetSpecificationMaker,
    IJobRateSynchronizer,
    IUpdatePeriod
  licensed(free)
  parameters(prmnrec: comp; PersonalAccount: comp);
#end
