#include PD_Object.vih
#include PD_IObjectRepository.vih

#component "PD_AGAT"

interface PD_Object;

var
  __id__: longint;
  __repository__: PD_IObjectRepository;

constructor init;
{
  result := false;
}

constructor _PD_Object(repository: PD_IObjectRepository);
{
  __repository__ := repository;
  __id__ := repository.add(PD_IObject(self));
  result := __id__ != 0;
}

destructor done;
{
  __repository__ := nullRef;
}

property id: longint read __id__;

end.
